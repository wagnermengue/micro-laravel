{"version":3,"sources":["static/img/logo.png","components/Page.tsx","pages/Dashboard.tsx","util/http/http-resource.ts","util/http/index.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","components/loading/LoadingContext.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","util/models.ts","util/http/castMember-http.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","pages/category/Form.tsx","pages/category/PageForm.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/video-http.ts","components/DeleteDialog.tsx","hooks/useDeleteCollection.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useHttpHandle.ts","hooks/useCollectionManager.ts","util/models-filters.ts","pages/video/Form/GenreField.tsx","pages/video/Form/CategoryField.tsx","pages/video/Form/CastMemberField.tsx","hooks/useSnackbarFormError.ts","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadActions.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadActions.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","routes/AppRouter.tsx","components/Breadcrumbs.tsx","components/SnackbarProvider.tsx","components/Spinner.tsx","components/loading/LoadingProvider.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","Dashboard","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","objectToFormData","booleansAsIntegers","Object","values","filter","el","File","length","httpVideo","create","baseURL","process","instances","categoryHttp","palette","primary","main","contrastText","secondary","dark","background","default","success","green","red","A400","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","marginBottom","localTheme","BadgeYes","Chip","label","BadgeNo","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","prevProps","prevState","snapshot","e","document","addEventListener","removeEventListener","Grow","appear","in","timeout","ref","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","search","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","onClick","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","newProps","merge","forEach","column","key","width","setColumnsWidth","map","omit","loading","applyLoading","responsive","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","ClearAll","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromURL","URLSearchParams","substr","cast","getStateFromUrl","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","useState","totalRecords","setTotalRecords","useEffect","replace","newLocation","oldState","nextState","isEqual","push","applyOrderInColumns","setLocale","mixed","required","notType","string","max","number","min","tableRef","current","changeRowsPerPage","changePage","perPage","changedColumn","direction","resetTablePagination","update","sortDirection","LoadingContext","createContext","columnsDefinition","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","enqueueSnackbar","useSnackbar","subscribed","useRef","setData","useContext","getData","a","list","meta","total","console","log","isCanceledRequest","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSortChange","PageList","Fab","size","CastMemberTypeMap","1","2","VideoFileFieldMap","castMembersHttp","castMemberNames","type","debouncedState","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","invert","onFilterChange","columnIndex","changeExtraFilter","genreHttp","filterType","join","setCategories","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","isSubscrible","category","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","Button","handleSave","gridItem","DefaultForm","GridContainerProps","GridItemProps","others","Grid","container","item","validationSchema","Form","useForm","resolver","yupResolver","defaultValues","is_active","register","handleSubmit","getValues","setValue","errors","watch","snackbar","useParams","setLoading","onSubmit","formData","setTimeout","InputLabelProps","shrink","helperText","message","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","PageForm","castMember","setCastMember","castMemberHttp","settings","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","categories_id","genre","setGenre","isSubscribe","promises","Promise","categoriesResponse","genreResponse","select","SelectProps","multiple","MenuItem","defaultChecked","videoHttp","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","confimed","ids","index","deleteCollection","then","reponse","catch","onRowsDelete","rowsDeleted","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","RatingField","FormControlProps","row","InputFile","fileRef","filename","setFilename","textFieldProps","TextFieldsProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setOptions","TextFieldProps","autoCompleteProps","loadingText","inputValue","noOptionsText","renderInput","CircularProgress","isSubscribed","Autocomplete","createStyles","padding","GridSelected","wrap","GridSelectedItem","onDelete","other","xs","md","useHttpHandle","request","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","getGenresFromCategory","genres","cat","GenreField","setGenres","autoCompleteHttp","removeCategory","autoCompleteRef","autoSelect","clearOnEscape","getOptionLabel","option","genresFromCategory","noWrap","genresSubtitle","grey","CategoryField","CastMemberField","castMembers","setCastMembers","getOptionSelected","useSnackbarFormError","submitCount","hasError","keys","isFinished","obj","progress","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","fileIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","UploadActions","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","listItem","listItemText","marginLeft","movieIcon","minWidth","UploadItem","itemHover","setItemHover","disableFocusListener","disableHoverListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","test","every","v","parent","fileFields","cast_members","opened","trigger","formState","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","field","cast_member","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","CardContent","isValid","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMembersList","CastMembersForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","listRoutes","menuRoutes","route","Menu","anchorEl","setAnchorEl","Boolean","aria-label","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumb","variantSuccess","variantError","variantInfo","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","requestIds","onFulFilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","prevCountRequest","responseIds","response","addGlobalResponseInterceptor","decrementCountRequest","reject","eject","removeGlobalResponseInterceptor","Provider","App","Fragment","CssBaseline","basename","window","hostname","uploadWhatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e0d907b4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAArCAYAAADomhP/AAANHUlEQVR4Xu1cDWwUxxX+nDoCokSg4BSq8mMnBkwwBCocIMTCFBA/ISoI3EIFARNIiUQaKCAgNg0WtgINBFAgoSWOoRgJCRBugcbIpBiZH7tGMdQuOMUJPn6KXUFjSghOS2+rb85z3p2b29u7c0wI+yQkbnfnzezbb968+d4bxwAw4IprgW+5BWJcoH7Lv5A7PGEBF6guEO4LC7hAvS8+kzvINgPqzp07sWjRIly/ft21umuBsC3QakB99NFHMXjwYDz//PMYOnQoXn31VVy+fFkMiNdKS0sxefJkFBYWhj1It4FrgVYBKoF49OhRxMbGCouuX78eS5YsEf/ntVOnTgkQb9y4UXhVV1wLhGsBx0BNSkrCkCFDkJaWhoSEeEyc+CK+/PJLCxDZeX1DA5L69MHNmzfFWObOnYtt27aJ/5eVlWHYsGHhjtF93rWAftcvPePdu3eFiebPn4/333/fb67Zs2djx44dAUDkhXnz5uGDDz4Q9zp27Ija2lrExcXB4/HgwIEDeO2111yzuxYI2wIWjzpr1ixkZMxGbOzDwnMSqGawqV5RvXf69GnhMSXAGRJ069YNJ06c8MerYY/QbeBaQOVRc3JykJmZiZEjR6KkpEQY6N1338WCBQv8xiIQuYRT3n77bRGLNjU1oby8DMuXr/Dfc63rWqA1LWDxqGPHjsPcuS8jPT1d9JHcPxmVn1T6N0nbt29HRkaGuNeuXTsREpSXl4OeVHrR1hycq8u1gLSABahdu3bF8OHDsW/fPnH/yJFijBo1GrWffYbjpaVYsWIF6uvrtdZ7BEBPxqUAGNnyqSuunV0LtJIFLECtrKzEwIEDxXLOzRLj1OPHjwcF5zMAZsQA4xGDvjHAQ8qg/gWgxDBQYAB/BPC/Vhq0Tg29/5Bnh6B79+64c+eO2MQdPnxYMBN2wo0jY+l+/frhiSeeECvDhQsXxEpRV1dn2zY+Ph78pwrbUc+VK86majA9wTrnd5KsCp/hd3IqtA3fTYraVr0fTC9XVJXBoROrqanxr8ZxneMszc335Q2ySXSQZqHd+P3MYgEqDdyzZ08UFBQI0l7u/g8ePOjfrdOoxcXFeDw2Fo9TEwn8xb9q0fnb3wGjR/t+kzVITQX+2YBaAyh+5Re4nfgUli5d6tSuIZ/jBjArKwuJiYkBzzJ23rp1K1atWmX5sHyQCQpOyNdfX4hOnbgOBMqxYyXIylopJqtOqPfNN98MOsbGxpsoKy/D9vx8kej4+uuvI9KjNjLvIXjPMJwXwJF9MU8uta16P9jLUcfFixctt82hIb8Lf5uF1GX3bt0sYaJ0jubn1PfjPQtQ2TkBOmXKFEydOlW05cceMGCA8DKUP+3Zg/HN99DUBPTvD3z+ma+f54YDpaUtfa5ZC2Su8P1+rCNQV4fSwv0YlZGB/4aEoP0DBNrOgp2Y9JNJITVxdk6YMMH/DpzBpMqYhAgl9IwLFy7Eli1bAh4NBVRzg+rqasycORNnzpyJSg8b3w9ApZM7X1ODxKeesrzv1Knp2Ldvr7jGVbDqr1WW+1wFx40bF2CjAMKfSwGzTFLWrl2L5cuXi5+5o0bjjSPFLUpyc4Ffr/T9fuh7QEUFMHCg73d9A5CUBNzyEf/Y8h4JWWD7dhyck4GfGsCdUCgJcp9GoJcfO3asIw1cjjgBuVyaM2WOGjc/pEv/hgNUqmEYkpqaGgDWcPXcD0Dl+9LZ7dmzx2Lmjz8+gtGjx4hrb731lh9b8qFBgwZpJ3MAUPPz80FC34e1lizTL2NjsamyEkhObgFir0Tgq9u+3/NeAbZubRnUvHnAh3m+308nA5WfMJ8qgIqX56DAMDDT+YpleVku9atXrw7A2Y0bN0RYQhkzZgw6d+4s3uHZlBQ/jxusLZc8TlDGqZwAMuyRnXAZj4/vaQkhdACjR2jfvh2SkvqiS5cuAWOkd+/bt69l+dPpaWhoEKuZTqZNm2ahAdXlm6vA1atXtW0Z/zEml/JNLf1Sv25p7z+gP2rO14jQgTy7lMI/FGLypMnacdsCdfPmzYIB+CGA/BFpeHiVKR7bvBnY63PhAoC7dwNxzcEzvem0n7V0mJ0NjBjh+90MVP53kdfARu2wgl9kkqGuzhMQV+7du1dQZ3LzxGB/zZo1yPswD9VV1UIhr9V5POiqAIhxLDNmkmLjhvKjoqKA5xgCbNq0yT84HcCktyPQOeGZ0VNBz4Id9inFTo8T80QKNuqOtG2oGFWOm5RnUdFHltfguzNmLyoqslwP5k35kC1QnRgp7GdMQL0FIMlr4B9hKFHTuWyqZsSCqVPDGj5HT8qNmMoD6zYDzLCZvZETgC1evBjr1q2zDEmNw5zosTNRpGBrC6Cyj5KSoxgxooWZ4Epx7NgxS+hm503vOVA5gHcMA4vDCAH2F+4P2EBNnz4du+nRQ8iyZcuElzVLbm6uYA1UofdtbGxE+/bt/bdo4E6dOvl3704Axk3fF198YfGq1NOhQwdbj0rvffbs2YBxqdRUNGCLpq1Tj8o+dA7C/GJ0EoN+NMi/8uk+o61HpbepYqVUDB+LQj6/CPRkOsC69PMnudYfeA38x6H6C7W1ATtJgsfMKwZTZY6/5TN2NbIVFRUBzEBCQoKfX3UCVPZTVVWFZBnbN3fco0cPf9wczmZKR92oHlWmtFU7XLtWD05qs0TqjcMBKvvTORg5DjOtFezb2QL1sseDzk8mgFmnqMQGqGLGeQ0cc9gBvRzjVLPEOJxIPGUwY8YMS1vdh5cPqEsWr6ekpIhQg+IUqDo9vXv39tNlrQ3UYKbUcaRtBVQ7r2q2RURAvdEMVG3jp/sBWZlAnySguhpYuxY49zd9PyGAuthr4B2HQL1165Yg6yMBqs6jhgtU7thl9iUaoIbyzMHM4cSjfhuBumHDBsFH64S8KeN2O7H1qF95PHjkyYTA9qSbTp30XZegYapy2HPAOd8O2yIhgLrFMLDAYZwqs2dm/aSUnJzFUivBqMNcW6sOm0kONeMVasnWAelafX0Ag2AOV3SAZ2Lg5s3GAFMuXLgogGd0mpm6Vx6VCRZSUeZ43/xifFfu+CMGapPHg/Y6oO74PcAldFU2cPUKwF0tl+OCAmDWS2EDdadh4CWHQCWloRL9XM537doV0ifrGAMWebPYWxXWDFy6dMlymXEwASbFiUdlLvv8+fMWPeRIzfltJ3rsXk4FKvlksg2q3L59G6TxzNIWS7+6ktGOavhm5zA4XluPesfjQQcdUE+eBIYM9QF1dTYw4Bng1CmAxQ4/Hhk2UPMNA3McAlVH9zA9yRmpUkzkLzmLJbeqAw03HoyR5EFEOXhZa2t+GX5kWQLJ604AxsyMTEdLXermwYmecIDqNF9Pnd80UHv16oVz585ZWA86lnXr11tWGSZCuOEMVg9hC9RbHg8es/OoOTkAy/5ycgEWdkToUX/jNbAspD/0PRBsGTl06JA4nyXLEAlKesumpjsYN268H8Q8aMh0qllYCM7dMMMKgpscKklplahXGQI7gLF/Fqwwi6SKGh58l4GqTlR6U2bsVq5cKYr0zaImVMz37FOozOLogNqnD/CXCl9GSvKMjFEZZ8gCFXMvIWLU2V4DvhNYzoQEum5pk6V1BJg5NUeOVdIyukwJe5VtuVHjGS9VuNPnjt8sOoBxorB/nQ621RVdhLPrp47s7GzhzaVE6hV1HtXuC7CaLC3Nt2I6oaeY4SPvaxZmO5kF1DkcXZpatg3Jo3oTEpCgo1EJ1jcyge7dAZZ7sUBFB1L2FAKoiV4DzfVXjpBKMp5HZVTPaNeYx2lkBRTTmoxXnQpDB4JU7vZlu3ABxvbUo9bIhqvnfgGqbj9hZk10LAyPQ9HbqhISqLvj47HsoW+O8K8wDDzrMD41D57BODdQL7zwQki80RPI4918mB6PdIn5LFgwJSxqeXHiRD93GsqjBtPDGl/m+HWF3N9FoOp4U3PlFO2k87jcM5C6U0+S2AKVlTY/T03Fn2HA96clIpTS44CskjHl+qltutdA6ORn8H4nTZokCqD5NwfUmJK0B8OEYIwAjZmVlSny0GpbVh8RXCxFC5b1sgMYNzR1dRdRVlaOvLw8P7mve5PvIlB1SQ5uRFXWQR53MttFx8Tc06KU0waQEkZ1ut00kX9SiPQRs1fcGIU6SiL1sS1nN+NKtr1+47pt3jnC6eo2i8IC9wyo/2Y60mvg71EM3m364FggAKi6w1Y0B2nuzYCoTY1KGupx99NPke414P65tKgs+UA1dvy3p2iVXqRXYmL0LIBDs/E8wCyvAd+BbFdcCzizQFhApcrv8/hTDDDVYcWSeRifGkC6YcB6nMvZQN2nHmwLhA1UaS4eiH4jBhjpALAeA9hgGOCfWXNad/pgfxb37VULRAxUqYjl0ARtSgzAOivGsjwKfY0FwwbA86w8FR8BVep+LdcCfgtEDVTXlq4F2sICLlDbwspuH1FbwAVq1CZ0FbSFBVygtoWV3T6itsD/AXvnqGrhoj/3AAAAAElFTkSuQmCC\"","import * as React from 'react';\nimport {Box, Container, Typography} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n    title: {\n        color: \"#999999\"\n    }\n});\n\ntype PageProps = {\n    title: string\n};\nexport const Page:React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <div>\n            <Container>\n                <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n                    {props.title}\n                </Typography>\n                <Box paddingTop={2}>\n                    {props.children}\n                </Box>\n            </Container>\n        </div>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../components/Page\";\n\ninterface DashboardProps {\n\n};\n\nconst Dashboard = (props: DashboardProps) => {\n    return (\n         <Page title=\"Dashboard\">\n\n         </Page>\n    );\n};\n\nexport default Dashboard;","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource} from \"axios\";\nimport {objectToFormData} from 'object-to-formdata';\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource) {\n\n    }\n\n    list<T = any>(options? : { queryParams? }): Promise<AxiosResponse<T>> {\n        if (this.cancelList) {\n            this.cancelList.cancel('list canceled');\n        }\n        this.cancelList = axios.CancelToken.source();\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        };\n\n        if (options && options.queryParams) {\n            config.params = options.queryParams;\n        }\n        return this.http.get<T>(this.resource, config);\n    }\n\n    get<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.get<T>(`${this.resource}/${id}`);\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n    }\n\n    update<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    partialUpdate<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    delete<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.delete<T>(`${this.resource}/${id}`);\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config:AxiosRequestConfig = {};\n        if (queryParams) {\n            config['params'] = queryParams;\n        }\n        return this.http.delete<T>(`${this.resource}`, config);\n    }\n\n    isCanceledRequest(error) {\n        return axios.isCancel(error);\n    }\n\n    private makeSendData(data) {\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private getFormData(data) {\n        return objectToFormData(data, {booleansAsIntegers: true})\n    }\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0;\n    }\n}","import axios, {AxiosError, AxiosRequestConfig, AxiosResponse} from \"axios\";\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n    // baseURL: 'http://localhost:8000/api'\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n    onFulFilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onRejected?: (error: any) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances){\n        const id = i.interceptors.request.use(onFulFilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.request.eject(id)\n    )\n}\n\nexport function addGlobalResponseInterceptor(\n    onFulFilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances){\n        const id = i.interceptors.response.use(onFulFilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.response.eject(id)\n    )\n}\n","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\n\nexport default categoryHttp;","import {createMuiTheme} from \"@material-ui/core\";\nimport {PaletteOptions, SimplePaletteColorOptions} from \"@material-ui/core/styles/createPalette\";\nimport {green, red} from \"@material-ui/core/colors\";\n\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#fff'\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText: '#fff',\n        dark: '#055a52'\n    },\n    background: {\n        default: '#fafafa'\n    },\n    success: {\n        main: green[\"500\"],\n        contrastText: '#fff'\n    },\n    error: {\n        main: red.A400\n    }\n};\n\nconst theme = createMuiTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {\n                boxShadow: \"none\"\n            }\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette!.background!.default\n            },\n            icon: {\n                color: (palette!.primary! as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &: focus': {\n                    color: (palette!.secondary! as SimplePaletteColorOptions).dark\n                }\n            },\n            iconActive: {\n                color: (palette!.secondary! as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &: focus': {\n                    color: (palette!.secondary! as SimplePaletteColorOptions).dark\n                }\n            }\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary! as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]': {\n                    backgroundColor: '#459ac4'\n                }\n            },\n            sortActive: {\n                color: '#fff'\n            },\n            sortAction: {\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette!.primary! as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette!.secondary! as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &: focus': {\n                    color: (palette!.secondary! as SimplePaletteColorOptions).main,\n                }\n            }\n        },\n        MUIDataTableToolbarSelect: {\n            title: {\n                color: (palette!.primary! as SimplePaletteColorOptions).main\n            },\n            iconButton: {\n                color: (palette!.primary! as SimplePaletteColorOptions).main\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default,\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.primary! as SimplePaletteColorOptions).main\n            }\n        },\n        MUIDataTableFilterList: {\n            root: {\n                marginBottom: '16px'\n            }\n        },\n    }\n});\n\nexport default theme;","import * as React from 'react';\nimport {Chip, createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\nimport theme from \"../theme\";\n\nconst localTheme = createMuiTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error\n    }\n});\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"Sim\" color=\"primary\"/>\n        </MuiThemeProvider>\n    );\n};\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"Não\" color=\"secondary\"/>\n        </MuiThemeProvider>\n    );\n};","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { withStyles } from '@material-ui/core/styles';\nimport {debounce} from 'lodash';\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: 'flex',\n        flex: '1 0 auto',\n    },\n    searchIcon: {\n        color: theme.palette.text.secondary,\n        marginTop: '10px',\n        marginRight: '8px',\n    },\n    searchText: {\n        flex: '0.8 0',\n    },\n    clearIcon: {\n        '&:hover': {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass DebouncedTableSearch extends React.PureComponent {\n\n    constructor(props) {\n        super(props);\n        const {searchText} = this.props;\n        let value = searchText;\n        if (searchText && searchText.value !== undefined) {\n            value = searchText.value;\n        }\n        this.state = {\n            text: value\n        }\n        this.debouncedOnSearch = debounce(this.debouncedOnSearch.bind(this), this.props.debounceTime)\n    }\n\n    handleTextChange = event => {\n        const value = event.target.value;\n        this.setState({\n            text: value\n        }, () => this.debouncedOnSearch(value))\n    };\n\n    debouncedOnSearch = value => {\n        this.props.onSearch(value)\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {searchText} = this.props;\n        if (searchText && searchText.value !== undefined && prevProps.searchText !== this.props.searchText) {\n            const value = searchText.value;\n            if (value) {\n                this.setState({\n                    text: value\n                }, () => this.props.onSearch(value));\n            } else {\n                try {\n                    this.props.onHide()\n                } catch (e) {\n\n                }\n            }\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n            this.props.onHide();\n        }\n    };\n\n    render() {\n        const { classes, options, onHide } = this.props;\n        let value = this.state.text;\n\n        return (\n            <Grow appear in={true} timeout={300}>\n                <div className={classes.main} ref={el => (this.rootRef = el)}>\n                    <SearchIcon className={classes.searchIcon} />\n                    <TextField\n                        className={classes.searchText}\n                        autoFocus={true}\n                        InputProps={{\n                            'data-test-id': options.textLabels.toolbar.search,\n                            'aria-label': options.textLabels.toolbar.search,\n                        }}\n                        value={value || ''}\n                        onChange={this.handleTextChange}\n                        fullWidth={true}\n                        inputRef={el => (this.searchField = el)}\n                        placeholder={options.searchPlaceholder}\n                    />\n                    <IconButton className={classes.clearIcon} onClick={onHide}>\n                        <ClearIcon />\n                    </IconButton>\n                </div>\n            </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, { name: 'MUIDataTableSearch' })(DebouncedTableSearch);","import * as React from 'react';\nimport MUIDataTable, {MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps} from \"mui-datatables\";\nimport {merge, omit, cloneDeep} from 'lodash';\nimport {MuiThemeProvider, Theme, useMediaQuery, useTheme} from \"@material-ui/core\";\nimport DebouncedTableSearch from \"./DebouncedTableSearch\";\nimport {RefAttributes} from \"react\";\n\nconst makeDefaultOptions = (debouncedSearchTime): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\",\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página\",\n            displayRows: \"de\",\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver colunas\",\n            filterTable: \"Filtrar tabelas\",\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"Filtro\",\n            reset: \"Limpar\",\n        },\n        viewColumns: {\n            title: \"Ver colunas\",\n            titleAria: \"Ver/Esconder colunas da tabela\",\n        },\n        selectedRows: {\n            text: \"Registros selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\",\n        },\n    },\n    customSearchRender: (searchText: string,\n                         handleSearch: any,\n                         hideSearch: any,\n                         options: any) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debounceTime={debouncedSearchTime}\n        />\n    }\n});\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?: string\n}\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, RefAttributes<MuiDataTableRefComponent> {\n    columns: TableColumn[];\n    loading?: boolean;\n    debouncedSearchTime?: number;\n}\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n    function extractMuiDataTableColumns(columns: TableColumn[]) {\n        setColumnsWidth(columns);\n        return columns.map(column => omit(column, 'width'))\n    }\n\n    function setColumnsWidth(columns: TableColumn[]) {\n        columns.forEach((column, key) => {\n            const overrides = theme.overrides as any;\n            if (column.width) {\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        const textLabels = (newProps.options as any).textLabels;\n        textLabels.body.noMatch =\n            newProps.loading === true\n                ? 'Carregando...'\n                : textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n        newProps.options.responsive = isSmOrDown ? 'scrollMaxHeight' : 'stacked';\n        // newProps.options.responsive = isSmOrDown ? 'vertical' : 'simple';\n    }\n\n    function getOriginalMuiDataTableProps() {\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        };\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime);\n\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)});\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n        <div>\n            <MuiThemeProvider theme={theme}>\n                <MUIDataTable {...originalProps} />\n            </MuiThemeProvider>\n        </div>\n    );\n});\n\nexport default Table;\n\nexport function makeActionStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px',\n        };\n        return copyTheme;\n    }\n}","// @flow \nimport * as React from 'react';\nimport {IconButton, Tooltip, makeStyles} from \"@material-ui/core\";\nimport {ClearAll} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}));\n\ninterface FilterResetButtonProps {\n    handleClick: () => void;\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles()\n    return (\n        // ainda está setando object [object]\n        <Tooltip title={'Limpar busca'}>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAll />\n            </IconButton>\n        </Tooltip>\n    );\n};","import * as Typings from './types';\nimport {createActions, createReducer} from 'reduxsauce';\nimport {SetResetAction, UpdateExtraFilterAction} from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string,\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>({\n    setSearch: ['payload'],\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset: ['payload'],\n    updateExtraFilter: ['payload'],\n});\n\nexport const INITIAL_STATE : Typings.State= {\n    search: null,\n    pagination: {\n        page: 1,\n        per_page: 10\n    },\n    order: {\n        sort: null,\n        dir: null\n    }\n};\n\nconst reducer = createReducer(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch as any,\n    [Types.SET_PAGE]: setPage as any,\n    [Types.SET_PER_PAGE]: setPerPage as any,\n    [Types.SET_ORDER]: setOrder as any,\n    [Types.SET_RESET]: setReset as any,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any,\n})\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction) : Typings.State {\n    return {\n        ...state,\n        search: action.payload.search,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        }\n    };\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction) : Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: action.payload.page\n        }\n    };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction) : Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            per_page: action.payload.per_page\n        }\n    };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction) : Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        order: {\n            sort: action.payload.sort,\n            dir: action.payload.dir\n        }\n    };\n}\n\nfunction setReset(state = INITIAL_STATE, action: SetResetAction) {\n    return action.payload.state\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: UpdateExtraFilterAction) {\n    return {\n        ...state,\n        extraFilter: {\n            ...state.extraFilter,\n            ...action.payload\n        }\n    }\n}","import {Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState} from \"react\";\nimport reducer, {Creators} from \"../store/filter\";\nimport {Actions as FilterActions, State as FilterState} from \"../store/filter/types\";\nimport {MUIDataTableColumn} from \"mui-datatables\";\nimport {useDebounce} from \"use-debounce\";\nimport {useHistory} from \"react-router\";\nimport {isEqual} from 'lodash';\nimport * as yup from '../util/vendor/yup';\nimport {MuiDataTableRefComponent} from \"../components/Table\";\nimport {ObjectSchema} from \"yup\";\nimport {useLocation} from \"react-router-dom\";\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    dispatch: Dispatch<FilterActions>;\n    state: FilterState;\n}\n\ninterface ExtraFilter {\n    getStateFromUrl: (queryParams: URLSearchParams) => any,\n    formatSearchParams: (debouncedState: FilterState) => any,\n    createValidationSchema: () => any,\n}\n\ninterface UseFilterOptions {\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>\n    extraFilter?: ExtraFilter\n}\n\nexport default function useFilter(options: UseFilterOptions) {\n    const history = useHistory();\n    const location = useLocation();\n    const {search: locationSearch, pathname: locationPathname, state: locationState} = location;\n    const {rowsPerPageOptions, rowsPerPage, columns, extraFilter} = options;\n\n    const schema = useMemo(() => {\n        return yup.object().shape({\n            search: yup.string()\n                .transform(value => !value ? undefined : value)\n                .default(''),\n            pagination: yup.object().shape({\n                page: yup.number()\n                    .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\n                    .default(1),\n                per_page: yup.number()\n                    .transform(value =>\n                        isNaN(value) || !rowsPerPageOptions.includes(parseInt(value)) ? undefined : value\n                    )\n                    .default(rowsPerPage),\n            }),\n            order: yup.object().shape({\n                sort: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        const columnName = columns\n                            .filter(columns => !columns.options || columns.options.sort !== false)\n                            .map(columns => columns.name);\n                        return columnName.includes(value) ? value : undefined;\n                    })\n                    .default(null),\n                dir: yup.string()\n                    .nullable()\n                    .transform(value => !value || !['asc', 'desc'].includes(value.toLowerCase()) ? undefined : value)\n                    .default(null),\n            }),\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.createValidationSchema()\n                }\n            )\n        });\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\n\n    const stateFromURL = useMemo(() => {\n        //history sempre é diferente (mutable) | location é imutable\n        const queryParams = new URLSearchParams(locationSearch.substr(1));\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page'),\n            },\n            order: {\n                sort: queryParams.get('sort'),\n                dir: queryParams.get('dir'),\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromUrl(queryParams)\n                }\n            )\n        })\n    }, [locationSearch, schema, extraFilter]);\n\n    const cleanSearchText = useCallback((text) => {\n        let newText = text\n        if (text && text.value !== undefined) {\n            newText = text.value;\n        }\n        return newText;\n    }, []);\n\n    const formatSearchParams = useCallback((state, extraFilter) => {\n        const search = cleanSearchText(state.search);\n        return {\n            ...(search && search !== '' && {search: search}),\n            ...(state.pagination.page && state.pagination.page !== 1 && {page: state.pagination.page}),\n            ...(state.pagination.per_page && state.pagination.per_page !== 10 && {per_page: state.pagination.per_page}),\n            ...(state.order.sort && {\n                sort: state.order.sort,\n                dir: state.order.dir,\n            }),\n            ...(\n                extraFilter && extraFilter.formatSearchParams(state)\n            )\n        }\n    }, [cleanSearchText]);\n\n    const INITIAL_STATE = stateFromURL;\n    // tive que colocar INITIAL_STATE as any pois o <FilterState> no useMemo do stateFromURL e no schema nao funcionaram\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE as any);\n    const filterManager = new FilterManager({...options, state: filterState, dispatch, schema});\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n    const [totalRecords, setTotalRecords] = useState<number>(0);\n\n    useEffect(() => {\n        history.replace({\n            pathname: locationPathname,\n            search: '?' + new URLSearchParams(formatSearchParams(stateFromURL, extraFilter)),\n            state: stateFromURL\n        })\n    }, [history, locationPathname, formatSearchParams, stateFromURL, extraFilter]);\n\n    useEffect(() =>  {\n        const newLocation = {\n            pathname: locationPathname,\n            search: '?' + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\n            state: {\n                ...debouncedFilterState,\n                search: cleanSearchText(debouncedFilterState.search)\n            }\n        }\n        const oldState = locationState;\n        const nextState = debouncedFilterState;\n        if (isEqual(nextState, oldState)){\n            return;\n        }\n        history.push(newLocation);\n    }, [history, locationPathname, formatSearchParams, debouncedFilterState, extraFilter, cleanSearchText, locationState]);\n\n    filterManager.state = filterState as FilterState;\n\n    filterManager.applyOrderInColumns();\n\n    // useEffect(() => {\n    //     filterManager.replaceHistory()\n    // },[]);\n\n    return {\n        columns: filterManager.columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords\n    }\n}\n\nexport class FilterManager {\n\n    schema;\n    state: FilterState;\n    dispatch: Dispatch<FilterActions>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n    //@TODO: tive que deixar sem o time porque nao tava indo, remover depois que finalizar\n    //constructor(options: FilterManagerOptions) {\n    constructor(options) {\n        const {schema, columns, rowsPerPage, tableRef, dispatch, state} = options;\n        this.schema = schema;\n        this.columns = columns;\n        this.rowsPerPage = rowsPerPage;\n        this.tableRef = tableRef;\n        this.dispatch = dispatch;\n        this.state = state;\n    }\n\n    private resetTablePagination() {\n        this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n        this.tableRef.current.changePage(0);\n    }\n\n    changeSearch(value){\n        this.dispatch(Creators.setSearch({search: value}));\n    }\n\n    changePage(page){\n        this.dispatch(Creators.setPage({page: page + 1}));\n    }\n\n    changeRowsPerPage(perPage) {\n        this.dispatch(Creators.setPerPage({per_page: perPage}));\n    }\n\n    changeColumnSortChange(changedColumn: string, direction: string) {\n        this.dispatch(Creators.setOrder({\n            sort: changedColumn,\n            dir: direction.includes('desc') ? 'desc' : 'asc'\n        }));\n        this.resetTablePagination();\n    }\n\n    changeExtraFilter(data) {\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n    resetFilter() {\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: {value: null, update: true}\n        };\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE\n        }));\n        this.resetTablePagination()\n    }\n\n    applyOrderInColumns() {\n        this.columns = this.columns.map(column => {\n            return column.name === this.state.order.sort\n                ? {\n                    ...column,\n                    options: {\n                        ...column.options,\n                        sortDirection: this.state.order.dir as any,\n                      },\n                }\n                : column\n        });\n    }\n}","/* eslint-disable no-template-curly-in-string */\nimport {LocaleObject, setLocale} from \"yup\";\n\nconst ptBR: LocaleObject = {\n    mixed: {\n        required: '${path} é requerido',\n        notType: '${path} é inválido'\n    },\n    string: {\n        max: '${path} é precisa ter no máximo ${max} caracteres'\n    },\n    number: {\n        min: '${path} é precisa ter no mínimo ${min} caracteres'\n    }\n}\n\nsetLocale(ptBR);\n\nexport * from 'yup';","\nimport {createContext} from 'react';\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;","import * as React from 'react';\nimport {useCallback, useContext, useEffect, useRef, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport {BadgeNo, BadgeYes} from \"../../components/Badge\";\nimport {Category, ListResponse} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, MuiDataTableRefComponent, TableColumn} from '../../components/Table';\nimport {useSnackbar} from \"notistack\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport useFilter from \"../../hooks/useFilter\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        options: {\n            sort: false,\n            filter: false,\n        },\n        width: '30%',\n    },\n    {\n        name: 'name',\n        label: 'Nome',\n        width: '40%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: 'is_active',\n        label: 'Ativo?',\n        options: {\n            filterOptions: {\n                names: ['Sim', 'Não']\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            }\n        },\n        width: '4%',\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        options: {\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\n            },\n            filter: false,\n        },\n        width: '10%',\n    },\n    {\n        name: 'actions',\n        label: 'Ações',\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                );\n            }\n        }\n    }\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 10;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        cleanSearchText,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const getData = useCallback(async ({search, page, per_page, sort, dir}) => {\n        try {\n            const {data} = await categoryHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.log(error);\n            if (categoryHttp.isCanceledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: \"error\"})\n        }\n    }, [setTotalRecords, enqueueSnackbar]);\n\n    //component did mount\n    useEffect(() => {\n        subscribed.current = true; //evita memory leak\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                title=\"Tabela de categorias\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    //serverSideFilterList: [[], ['teste'], ['teste'], []],\n                    serverSide: true,\n                    responsive: \"scrollMaxHeight\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSortChange(changedColumn, direction\n                    )\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {Link} from \"react-router-dom\";\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de categorias\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar categoria\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/categories/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","export interface ListResponse<T>{\n    data: T[];\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    };\n    meta: {\n        current_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: number;\n        to: number;\n        total: number;\n    };\n}\n\nexport interface Timestampable {\n    readonly created_at: string;\n    readonly updated_at: string;\n    readonly deleted_at: string | null;\n}\n\nexport interface Category extends Timestampable {\n    readonly id: string;\n    name: string;\n    description: string | null;\n    is_active: boolean | null;\n}\n\nexport interface CastMember extends Timestampable {\n    readonly id: string;\n    name: string;\n    type: number;\n}\n\nexport interface Genre extends Timestampable {\n    readonly id: string;\n    name: string;\n    is_active: boolean | null;\n    categories: Category[];\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator',\n};\n\nexport interface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal',\n}\n\nexport interface Video extends Timestampable {\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst castMembersHttp = new HttpResource(httpVideo, \"cast_members\");\n\nexport default castMembersHttp;","import * as React from 'react';\nimport {useCallback, useContext, useEffect, useMemo, useRef, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport {CastMember, ListResponse, CastMemberTypeMap} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, MuiDataTableRefComponent, TableColumn} from \"../../components/Table\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {useSnackbar} from \"notistack\";\nimport useFilter from \"../../hooks/useFilter\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport * as yup from '../../util/vendor/yup';\nimport castMembersHttp from \"../../util/http/castMember-http\";\nimport {invert} from 'lodash';\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: 'name',\n        label: 'Nome',\n        width: '43%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: 'type',\n        label: 'Tipo',\n        width: '4%',\n        options: {\n            customBodyRender(value, tableMeta, updateValue) {\n                return CastMemberTypeMap[value];\n            },\n            filterOptions: {\n                names: castMemberNames\n            }\n        }\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\n            }\n        }\n    },\n    {\n        name: 'actions',\n        label: 'Ações',\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                );\n            }\n        }\n    }\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 10;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<CastMember[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n                type: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        return !value || !castMemberNames.includes(value) ? undefined : value;\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedState) => {\n            return debouncedState.extraFilter\n                ? {\n                    ...(\n                        debouncedState.extraFilter.type &&\n                        {type: debouncedState.extraFilter.type}\n                    )\n                }\n                : undefined\n        },\n        getStateFromUrl: (queryParams) => {\n            return {\n                type: queryParams.get('type')\n            }\n        }\n    }), []);\n    const {\n        columns,\n        filterManager,\n        cleanSearchText,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n    const indexColumnType = columns.findIndex(c => c.name === 'type');\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : []\n\n    const serverSideFilterList = columns.map(column => []);\n    if (typeFilterValue) {\n        serverSideFilterList[indexColumnType] = [typeFilterValue];\n    }\n\n    const getData = useCallback(async ({search, page, per_page, sort, dir, type}) => {\n        try {\n            const {data} = await castMembersHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(type && {\n                            type: invert(CastMemberTypeMap)[type]\n                        }\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.log(error);\n            if (castMembersHttp.isCanceledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: \"error\"})\n        }\n    }, [setTotalRecords, enqueueSnackbar]);\n\n    //component did mount\n    useEffect(() => {\n        subscribed.current = true; //evita memory leak\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.type &&\n                {\n                    type: debouncedFilterState.extraFilter.type\n                }\n            )\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                title=\"Tabela de membros de elencos\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSideFilterList,\n                    serverSide: true,\n                    responsive: \"scrollMaxHeight\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column)\n                        filterManager.changeExtraFilter({\n                            [column] : filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSortChange(changedColumn, direction\n                        )\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {Link} from \"react-router-dom\";\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de membros de elenco\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar membro de elenco\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/cast-members/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\");\n\nexport default genreHttp;","import * as React from 'react';\nimport {useCallback, useContext, useEffect, useMemo, useRef, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport {Chip, IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Category, Genre, ListResponse} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, MuiDataTableRefComponent, TableColumn} from \"../../components/Table\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {useSnackbar} from \"notistack\";\nimport useFilter from \"../../hooks/useFilter\";\nimport * as yup from \"../../util/vendor/yup\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false,\n        }\n    },\n    {\n        name: 'name',\n        label: 'Nome',\n        width: '23%',\n        options: {\n            filter: false,\n        }\n    },\n    {\n        name: 'is_active',\n        label: 'Ativo?',\n        width: '4%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <Chip label=\"Sim\" color=\"primary\" /> : <Chip label=\"Não\" color=\"secondary\"/>;\n            }\n        }\n    },\n    {\n        name: 'categories',\n        label: 'Categorias',\n        width: '20%',\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(\", \");\n            }\n        }\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '10%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\n            }\n        }\n    },\n    {\n        name: 'actions',\n        label: 'Ações',\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/genres/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                );\n            }\n        }\n    }\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 10;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Genre[]>([]);\n    const loading = useContext(LoadingContext);\n    const [categories, setCategories] = useState<Category[]>();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n                categories: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',');\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedState) => {\n            return debouncedState.extraFilter\n                ? {\n                    ...(\n                        debouncedState.extraFilter.categories &&\n                        {categories: debouncedState.extraFilter.categories.join(',')}\n                    )\n                }\n                : undefined\n        },\n        getStateFromUrl: (queryParams) => {\n            return {\n                categories: queryParams.get('categories')\n            }\n        }\n    }), []);\n    const {\n        columns,\n        filterManager,\n        cleanSearchText,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n    const serverSideFilterList = columns.map(column => []);\n    if (categoriesFilterValue) {\n        serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    }\n\n    useEffect(() => {\n        let isSubscrible = true;\n        (async () => {\n            try {\n                const {data} = await categoryHttp.list({queryParams: {all: ''}});\n                if (isSubscrible) {\n                    setCategories(data.data);\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error',}\n                )\n            }\n        })();\n\n        return () => {\n            isSubscrible = false;\n        }\n    }, [columnCategories, enqueueSnackbar]);\n\n    const getData = useCallback(async ({search, page, per_page, sort, dir, type}) => {\n        try {\n            const {data} = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(type &&\n                        debouncedFilterState.extraFilter &&\n                        debouncedFilterState.extraFilter.categories &&\n                        {\n                            categories: debouncedFilterState.extraFilter.categories.join(',')\n                        }\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.log(error);\n            if (genreHttp.isCanceledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: \"error\"})\n        }\n    }, [debouncedFilterState, setTotalRecords, enqueueSnackbar]);\n\n    //component did mount\n    useEffect(() => {\n        subscribed.current = true; //evita memory leak\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.categories &&\n                {\n                    categories: debouncedFilterState.extraFilter.categories.join(',')\n                }\n            )\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                title=\"Tabela de gêneros\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSideFilterList,\n                    serverSide: true,\n                    responsive: \"scrollMaxHeight\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column)\n                        filterManager.changeExtraFilter({\n                            [column] : filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSortChange(changedColumn, direction\n                        )\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {Link} from \"react-router-dom\";\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de gêneros\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar gênero\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/genres/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","// @flow \nimport * as React from 'react';\nimport {Box, Button, ButtonProps, makeStyles, Theme} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n});\n\ninterface SubmitActionsProps {\n    disabledButtons: boolean,\n    handleSave: () => void\n}\n\nconst SubmitActions: React.FC<SubmitActionsProps> = (props) => {\n\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: 'secondary',\n        variant: \"contained\",\n        disabled: props.disabledButtons !== undefined ? false : props.disabledButtons\n    }\n\n    return (\n        <Box dir={\"ltf\"}>\n            <Button {...buttonProps} onClick={props.handleSave}>Salvar</Button>\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n        </Box>\n    );\n};\n\nexport default SubmitActions;","// @flow \nimport * as React from 'react';\nimport {Grid, GridProps, makeStyles} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n        gridItem: {\n            margin: theme.spacing(1, 0)\n        },\n    })\n);\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, any> {\n    GridContainerProps?: GridProps;\n    GridItemProps?: GridProps;\n}\n\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n\n    const classes = useStyles();\n    const {GridContainerProps, GridItemProps, ...others} = props;\n\n    return (\n        <form {...others}>\n            <Grid container {...GridContainerProps}>\n                <Grid item className={classes.gridItem} {...GridItemProps}>\n                    {props.children}\n                </Grid>\n            </Grid>\n        </form>\n    );\n};","import * as React from 'react';\nimport {Checkbox, TextField, FormControlLabel} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport categoryHttp from \"../../util/http/category-http\";\nimport * as yup from '../../util/vendor/yup';\nimport {useParams, useHistory} from 'react-router';\nimport {useEffect, useState} from \"react\";\nimport {useSnackbar} from \"notistack\";\nimport {Category} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport {DefaultForm} from \"../../components/DefaultForm\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string().required()\n});\n\nexport const Form = () => {\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch} = useForm<any>({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            is_active: true\n        }\n    });\n\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [category, setCategories] = useState<Category>();\n    const [loading, setLoading] = useState<boolean>(false);\n\n    useEffect(() => {\n        register({name: \"is_active\"})\n    }, [register]);\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n\n        //iife\n        (async function getCategory() {\n            setLoading(true);\n            try {\n                const {data} = await categoryHttp.get(id);\n                setCategories(data.data);\n                reset(data.data);\n            } catch (error) {\n                console.log(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar a lista de categorias',\n                    {variant: \"error\"})\n            } finally {\n                setLoading(false)\n            }\n        })();\n    }, [id, reset, snackbar]);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !category\n                ? categoryHttp.create(formData)\n                : categoryHttp.update(category.id, formData)\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Categoria cadastrada com sucesso!',\n                {variant: \"success\"});\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/categories/${data.data.id}/edit`)\n                            : history.push(`/categories/${data.data.id}/edit`)\n                    ) :\n                    history.push(\"/categories/\")\n            });\n        } catch (error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Falha ao cadastrar categoria',\n                {variant: \"error\"})\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n            />\n            <TextField\n                name=\"description\"\n                label=\"Descrição\"\n                fullWidth\n                multiline\n                rows={4}\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n            />\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        name=\"is_active\"\n                        onChange={() => setValue('is_active', !getValues()['is_active'])}\n                        checked={watch('is_active')}\n                    />\n                }\n                label={'Ativo?'}\n                labelPlacement={'end'}\n                disabled={loading}\n            />\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => onSubmit(getValues(), null)}\n            />\n        </DefaultForm>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <div>\n            <Page title={!id ? \"Criar categoria\" : \"Editar categoria\"}>\n                <Form/>\n            </Page>\n        </div>\n    );\n};\n\nexport default PageForm;","import * as React from 'react';\nimport {\n    TextField,\n    FormControl,\n    FormLabel, RadioGroup, FormControlLabel, Radio, FormHelperText\n} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport castMemberHttp from \"../../util/http/castMember-http\";\nimport {useEffect, useState} from \"react\";\nimport * as yup from \"../../util/vendor/yup\";\nimport {yupResolver} from \"@hookform/resolvers\";\nimport {useSnackbar} from \"notistack\";\nimport {useHistory, useParams} from \"react-router\";\nimport {CastMember} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label(\"Nome\")\n        .required()\n        .max(255),\n    type: yup.number()\n        .label(\"Tipo\")\n        .required()\n});\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch,} = useForm<any>({\n        resolver: yupResolver(validationSchema),\n    });\n\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [castMember, setCastMember] = useState<CastMember>();\n    const [loading, setLoading] = useState<boolean>(false);\n\n    useEffect(() => {\n        register({name: \"type\"})\n    }, [register]);\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n\n        (async function getCastMember() {\n            setLoading(true);\n            try {\n                const {data} = await castMemberHttp.get(id);\n                setCastMember(data.data);\n                reset(data.data);\n            } catch (error) {\n                console.log(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar o elenco',\n                    {variant: \"error\"})\n            } finally {\n                setLoading(false)\n            }\n        })();\n    }, [id, reset, snackbar]);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !castMember\n                ? castMemberHttp.create(formData)\n                : castMemberHttp.update(castMember.id, formData);\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Membro de elenco cadastrado com sucesso!',\n                {variant: \"success\"});\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/cast-members/${data.data.id}/edit`)\n                            : history.push(`/cast-members/${data.data.id}/edit`)\n                    ) :\n                    history.push(\"/cast-members/\")\n            });\n        } catch (error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Falha ao cadastrar elenco',\n                {variant: \"error\"})\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                InputLabelProps={{shrink: true}}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.settings}\n            />\n            <FormControl\n                margin=\"normal\"\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel component=\"legend\">Tipo</FormLabel>\n                <RadioGroup\n                    name=\"type\"\n                    onChange={(e) => {\n                        setValue(\"type\", parseInt(e.target.value));\n                    }}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel value=\"1\" control={<Radio/>} label=\"Diretor\"/>\n                    <FormControlLabel value=\"2\" control={<Radio/>} label=\"Ator\"/>\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                    //errors.type\n                    //    ? <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                    //    : null\n                }\n            </FormControl>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => onSubmit(getValues(), null)}\n            />\n        </form>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <div>\n            <Page title={!id ? \"Criar membro de elenco\" : \"Editar membro de elenco\"}>\n                <Form/>\n            </Page>\n        </div>\n    );\n};\n\nexport default PageForm;","import * as React from 'react';\nimport {Checkbox, TextField, MenuItem} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport {useEffect, useState} from \"react\";\nimport * as yup from \"../../util/vendor/yup\";\nimport {yupResolver} from \"@hookform/resolvers\";\nimport {useSnackbar} from \"notistack\";\nimport {useHistory, useParams} from \"react-router\";\nimport {Category, Genre} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label(\"Nome\")\n        .required()\n        .max(255),\n    categories_id: yup.number()\n        .label(\"Categorias\")\n        .required()\n});\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, watch, errors, reset} = useForm<any>({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            categories_id: [],\n            is_active: true\n        }\n    });\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [genre, setGenre] = useState<Genre>();\n    const [categories, setCategories] = useState<Category[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n\n    useEffect(() => {\n        register({name: \"categories_id\"})\n    }, [register]);\n\n    useEffect(() => {\n        let isSubscribe = true;\n        (async () => {\n            setLoading(true);\n            const promises = [categoryHttp.list({ queryParams: {all: ''}})];\n            if (id) {\n                promises.push(genreHttp.get(id));\n            }\n            try {\n                const [categoriesResponse, genreResponse] = await Promise.all(promises);\n                if (isSubscribe) {\n                    setCategories(categoriesResponse.data.data);\n                    if (id) {\n                        setGenre(genreResponse.data.data);\n                        const categories_id = genreResponse.data.data.categories.map(category => category.id)\n                        reset({\n                            ...genreResponse.data.data,\n                            categories_id\n                        });\n                    }\n                }\n            } catch (error) {\n                console.log(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: \"error\"})\n            } finally {\n                setLoading(false)\n            }\n        })();\n\n        return () => {\n            isSubscribe = false;\n        }\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !genre\n                ? genreHttp.create(formData)\n                : genreHttp.update(genre.id, formData)\n            const {data} = await http;\n            enqueueSnackbar(\n                'Gênero cadastrado com sucesso!',\n                {variant: \"success\"});\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/genres/${data.data.id}/edit`)\n                            : history.push(`/genres/${data.data.id}/edit`)\n                    ) :\n                    history.push(\"/genres/\")\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\n                'Falha ao cadastrar gênero',\n                {variant: \"error\"})\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n            />\n            <TextField\n                select\n                name=\"categories_id\"\n                value={watch('categories_id')}\n                label=\"Categorias\"\n                margin={\"normal\"}\n                variant={\"outlined\"}\n                fullWidth\n                onChange={(e) => {\n                    // tive que setar como as any senao dava bug\n                    setValue('categories_id', e.target.value as any);\n                }}\n                SelectProps={{multiple: true}}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n                error={errors.categories_id !== undefined}\n                helperText={errors.categories_id && errors.categories_id.message}\n            >\n                <MenuItem value=\"\" disabled={true}>\n                    <em>Selecione categorias</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category, key) => (\n                            <MenuItem key={key} value={category.id}>\n                                {category.name}\n                            </MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <Checkbox\n                name=\"is_active\"\n                inputRef={register}\n                defaultChecked\n            /> Ativo?\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => onSubmit(getValues(), null)}\n            />\n        </form>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\n\nconst PageForm = () => {\n    return (\n        <div>\n            <Page title=\"Criar gênero\">\n                <Form/>\n            </Page>\n        </div>\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\");\n\nexport default videoHttp;","import * as React from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle\n} from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n    const {open, handleClose} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Exclusão de registros\n            </DialogTitle>\n\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmmente excluir este(s) registro(s)?\n                </DialogContentText>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;","import {useEffect, useState} from 'react';\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    };\n};\n\nexport default useDeleteCollection;","import * as React from 'react';\nimport {useCallback, useContext, useEffect, useRef, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport {BadgeNo, BadgeYes} from \"../../components/Badge\";\nimport {ListResponse, Video} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, MuiDataTableRefComponent, TableColumn} from '../../components/Table';\nimport {useSnackbar} from \"notistack\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport useFilter from \"../../hooks/useFilter\";\nimport videoHttp from \"../../util/http/video-http\";\nimport DeleteDialog from \"../../components/DeleteDialog\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        options: {\n            sort: false,\n            filter: false,\n        },\n        width: '30%',\n    },\n    {\n        name: 'title',\n        label: 'Título',\n        width: '40%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: 'genres',\n        label: 'Gêneros',\n        width: '20%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(\", \");\n            }\n        }\n    },\n    {\n        name: 'categories',\n        label: 'Categorias',\n        width: '20%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(\", \");\n            }\n        }\n    },\n    {\n        name: 'opened',\n        label: 'Publicado?',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            }\n        },\n        width: '4%',\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        options: {\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\n            },\n            filter: false,\n        },\n        width: '10%',\n    },\n    {\n        name: 'actions',\n        label: 'Ações',\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                );\n            }\n        }\n    }\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 10;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Video[]>([]);\n    const loading = useContext(LoadingContext);\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        cleanSearchText,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const getData = useCallback(async ({search, page, per_page, sort, dir}) => {\n        try {\n            const {data} = await videoHttp.list<ListResponse<Video>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) {\n                    setOpenDeleteDialog(false)\n                }\n            }\n        } catch (error) {\n            console.log(error);\n            if (videoHttp.isCanceledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: \"error\"})\n        }\n    }, [openDeleteDialog, setOpenDeleteDialog, setTotalRecords, enqueueSnackbar]);\n\n    //component did mount\n    useEffect(() => {\n        subscribed.current = true; //evita memory leak\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order\n    ]);\n\n    function deleteRows(confimed: boolean) {\n        if (! confimed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then(reponse => {\n                enqueueSnackbar(\n                    'Registros excluidos com sucesso!',\n                    {variant: \"success\"});\n                //@TODO: When the last page doesn't is full, has a bug\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir,\n                    });\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível excluir as informações',\n                    {variant: \"error\"}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Tabela de vídeos\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    //serverSideFilterList: [[], ['teste'], ['teste'], []],\n                    serverSide: true,\n                    responsive: \"scrollMaxHeight\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSortChange(changedColumn, direction\n                    ),\n                    onRowsDelete: (rowsDeleted: any[]) => {\n                        console.log(rowsDeleted);\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {Link} from \"react-router-dom\";\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de vídeos\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar vídeo\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/videos/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import * as React from 'react';\nimport {Typography} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: \"36px\",\n        height: \"36px\",\n        fontSize: \"1.2em\",\n        borderRadius: \"4px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"#ffffff\",\n    }\n});\n\nconst backgroundColors = {\n    'L':  '#33e913',\n    '10':  '#1f85f3',\n    '12':  '#c8b14a',\n    '14':  '#ee8217',\n    '16':  '#ff0000',\n    '18':  '#000000',\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\nexport default Rating;","// @flow \nimport * as React from 'react';\nimport {\n    Box,\n    FormControl,\n    FormControlLabel,\n    FormControlLabelProps, FormControlProps,\n    FormHelperText,\n    FormLabel,\n    Radio,\n    RadioGroup\n} from \"@material-ui/core\";\nimport Rating from \"../../../components/Rating\";\n\ninterface RatingFieldProps {\n    value: string,\n    setValue: (value) => void,\n    error: any\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nconst ratings:FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"L\"}/>, labelPlacement: \"top\"},\n    {value: \"10\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"10\"}/>, labelPlacement: \"top\"},\n    {value: \"12\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"12\"}/>, labelPlacement: \"top\"},\n    {value: \"14\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"14\"}/>, labelPlacement: \"top\"},\n    {value: \"16\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"16\"}/>, labelPlacement: \"top\"},\n    {value: \"18\", control: <Radio color={\"primary\"}/>, label: <Rating rating={\"18\"}/>, labelPlacement: \"top\"},\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n    const {value, setValue, error, disabled} = props;\n\n    return (\n        <FormControl\n            margin=\"normal\"\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <FormLabel component=\"legend\">Classificação</FormLabel>\n            <Box paddingTop={1}>\n                <RadioGroup\n                    name=\"rating\"\n                    onChange={(e) => {\n                        setValue(e.target.value);\n                    }}\n                    value={value}\n                    row\n                >\n                    {\n                        ratings.map(\n                            (props, key) => <FormControlLabel key={key} {...props}/>\n                        )\n                    }\n                </RadioGroup>\n            </Box>\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n};\n\nexport default RatingField;","import * as React from 'react';\nimport {InputAdornment, TextField, TextFieldProps} from \"@material-ui/core\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState} from \"react\";\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent>{\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldsProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void\n    clear: () => void\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant: \"outlined\",\n        ...props.TextFieldsProps,\n        InputProps: {\n            ...(\n                props.TextFieldsProps && props.TextFieldsProps.InputProps &&\n                {...props.TextFieldsProps.InputProps}\n            ),\n            readOnly: true,\n            endAdornment: (\n            <InputAdornment position={\"end\"}>\n                {props.ButtonFile}\n            </InputAdornment>\n            )\n        },\n        value: filename\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event){\n            const files = event.target.files;\n            if (files.length) {\n                setFilename(\n                    Array.from(files).map((file: any) => file.name).join(', ')\n                )\n            }\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event);\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile;","import * as React from 'react';\nimport {\n    Button,\n    FormControl,\n    FormControlProps,\n    FormHelperText\n} from \"@material-ui/core\";\nimport InputFile, {InputFileComponent} from \"../../../components/InputFile\";\nimport CloudUploadFile from \"@material-ui/icons/CloudUpload\";\nimport {MutableRefObject, useImperativeHandle, useRef} from \"react\";\n\ninterface UploadFieldProps {\n    accept: string,\n    label: string,\n    setValue: (value) => void,\n    error?: any\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nconst UploadField =  React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n\n    const {accept, label, setValue, error, disabled} = props;\n\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n\n    return (\n        <FormControl\n            margin=\"normal\"\n            error={error !== undefined}\n            disabled={disabled === true}\n            fullWidth\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldsProps={{\n                    label: label,\n                    InputLabelProps: {shrink: true},\n                    style: {backgroundColor: \"#ffffff\"}\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event) {\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0])\n                    }\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUploadFile />}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                    </Button>\n                }\n            />\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n});\n\nexport default UploadField;","import * as React from 'react';\nimport {CircularProgress, TextField, TextFieldProps} from \"@material-ui/core\";\nimport {Autocomplete, AutocompleteProps, UseAutocompleteSingleProps} from \"@material-ui/lab\";\nimport {RefAttributes, useEffect, useImperativeHandle, useState} from \"react\";\nimport {useDebounce} from \"use-debounce\";\n\ninterface AsyncAutocompleteProps extends RefAttributes<AsyncAutocompleteComponent>{\n    fetchOptions: (searchText) => Promise<any>;\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps\n    AutocompleteProps?: Omit<AutocompleteProps<any>, 'renderInput'> & UseAutocompleteSingleProps<any>\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\n    const {freeSolo = false, onOpen, onClose, onInputChange} = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState('');\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(props.TextFieldProps && {...props.TextFieldProps})\n    };\n\n    const autoCompleteProps: AutocompleteProps<any> = {\n        loading: loading,\n        loadingText: 'Carregando...',\n        ...(AutocompleteProps && {...AutocompleteProps}),\n        open,\n        options,\n        inputValue: searchText,\n        noOptionsText: 'Nenhum item encontrado',\n        onOpen() {\n            setOpen(true);\n            onOpen && onOpen();\n        },\n        onClose() {\n            setOpen(false);\n            onClose && onClose();\n        },\n        onInputChange(event, value) {\n            setSearchText(value);\n            onInputChange && onInputChange();\n        },\n        renderInput: params => {\n            return <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={\n                    {\n                        ...params.InputProps,\n                        endAdornment: (\n                            <>\n                                {loading && <CircularProgress color={'inherit'} size={20} />}\n                                {params.InputProps.endAdornment}\n                            </>\n                        )\n                    }\n                }\n            />\n        }\n    };\n\n    useEffect(() => {\n        if (!open && !freeSolo) {\n            setOptions([]);\n        }\n    }, [open, freeSolo]);\n\n    useEffect(() => {\n        if (!open) {\n            return;\n        }\n        if (debouncedSearchText ===  \"\" && freeSolo){\n            return;\n        }\n\n        let isSubscribed = true;\n        (async () => {\n            setLoading(true);\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n                if (isSubscribed) {\n                    setOptions(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        })();\n        return () => {\n            isSubscribed = false\n        }\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\");\n            setOptions([]);\n        }\n    }))\n\n    return (\n        <div>\n            <Autocomplete {...autoCompleteProps}/>\n        </div>\n    );\n});\n\nexport default AsyncAutocomplete;","import * as React from 'react';\nimport {createStyles, Grid, makeStyles, Theme} from \"@material-ui/core\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#f1f1f1',\n            borderRadius: '4px',\n            padding: theme.spacing(1,1),\n            color: theme.palette.secondary.main\n        }\n    }),\n);\n\ninterface GridSelectedProps extends GridProps {\n\n}\n\nconst GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;","import * as React from 'react';\nimport {Grid, IconButton} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\ninterface GridSelectedItemProps extends GridProps{\n    onDelete: () => void\n}\n\nconst GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const {onDelete, children, ...other} = props;\n    return <Grid item {...other}>\n        <Grid container alignItems={\"center\"} spacing={3}>\n            <Grid item xs={2}>\n                <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                    <DeleteIcon />\n                </IconButton>\n            </Grid>\n            <Grid item xs={10} md={10}>\n                {children}\n            </Grid>\n        </Grid>\n    </Grid>\n};\n\nexport default GridSelectedItem;","import {useSnackbar} from \"notistack\";\nimport axios from \"axios\";\nimport {useCallback} from \"react\";\n\nconst useHttpHandle = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            const {data} = await request;\n            return data;\n        } catch (e) {\n            console.log(e);\n            if (! axios.isCancel(e)) {\n                enqueueSnackbar(\n                    \"Não foi possivel carregar as informações\",\n                    {variant: \"error\"}\n                );\n            }\n            throw e;\n        }\n    },[enqueueSnackbar]);\n};\n\nexport default useHttpHandle;","import {useSnackbar} from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n    const snackbar = useSnackbar();\n\n    return {\n        addItem(item) {\n            if (! item || item === \"\") {\n                return\n            }\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                snackbar.enqueueSnackbar(\n                    \"item já adicionado\", {variant: \"info\"}\n                )\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item) {\n            const index = collection.findIndex(i => i.id === item.id);\n            if (index === -1) {\n                return;\n            }\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n};\n\nexport default useCollectionManager;","import {Category, Genre} from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    // erro quando entra no editar: genre.categories | undefined is not an object\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}","import * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {FormControl, Typography, FormControlProps, FormHelperText} from \"@material-ui/core\";\nimport useHttpHandle from \"../../../hooks/useHttpHandle\";\nimport genreHttp from \"../../../util/http/genre-http\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport {getGenresFromCategory} from \"../../../util/models-filters\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\n\ninterface GenreFieldsProps extends RefAttributes<GenreFieldComponent>{\n    genres: any[],\n    setGenres: (genres) => void,\n    categories: any[],\n    setCategories: (categories) => void,\n    error: any,\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface GenreFieldComponent {\n    clear: () => void\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldsProps>((props, ref) => {\n    const {genres, setGenres, categories, setCategories, error, disabled} = props;\n    const autoCompleteHttp = useHttpHandle();\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    const autoCompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    const fetchOptions = (searchText) => autoCompleteHttp(\n        genreHttp\n            .list({\n                queryParams: {\n                    search: searchText,\n                    all: ''\n                }})\n    ).then(data => data.data);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autoCompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autoCompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    autoSelect: true,\n                    clearOnEscape: true,\n                    //getOptionSelected: (option, value) => option.id === value.id, (alternativa ao autoSelect)\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Gêneros',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: '24px'}}>\n                Escolha os gêneros dos vídeos\n            </FormHelperText>\n            <FormControl\n                margin=\"normal\"\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        genres.map((genre, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={ () => {\n                                    const categoriesWithOneGenre = categories\n                                        .filter(category => {\n                                            const genresFromCategory = getGenresFromCategory(genres, category);\n                                            return genresFromCategory.length === 1 && genresFromCategory[0].id === genre.id;\n                                        })\n                                    categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                                    removeItem(genre)\n                                }}\n                                xs={12}>\n                                <Typography noWrap={true}>\n                                    {genre.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;","import * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {FormHelperText, Typography, FormControlProps, FormControl, makeStyles, Theme} from \"@material-ui/core\";\nimport useHttpHandle from \"../../../hooks/useHttpHandle\";\nimport categoryHttp from \"../../../util/http/category-http\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport {Genre} from \"../../../util/models\";\nimport {getGenresFromCategory} from \"../../../util/models-filters\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        fontSize: '0.8rem',\n        color: grey['800']\n    }\n}));\n\ninterface CategoryFieldsProps extends RefAttributes<CategoryFieldComponent>{\n    categories: any[],\n    setCategories: (categories) => void,\n    genres: Genre[],\n    error: any,\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface CategoryFieldComponent {\n    clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldsProps>((props, ref) => {\n    const {categories, setCategories, genres, error, disabled} = props;\n    const classes = useStyles();\n    const autoCompleteHttp = useHttpHandle();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n    const autoCompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    const fetchOptions = (searchText) => autoCompleteHttp(\n        categoryHttp\n            .list({\n                queryParams: {\n                    genres: genres.map(genre => genre.id).join(','),\n                    all: ''\n                }})\n    ).then(data => data.data);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autoCompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autoCompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled: !genres.length || disabled === true\n                }}\n                TextFieldProps={{\n                    label: 'Categorias',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: '24px'}}>\n                Escola pelo menos uma categoria de cada gênero\n            </FormHelperText>\n            <FormControl\n                margin=\"normal\"\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n            <GridSelected>\n                {\n                    categories.map((category, key) => {\n                        const genresFromCategory = getGenresFromCategory(genres, category)\n                            .map(genre => genre.name).join(',');\n                        return (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={() => {\n                                    removeItem(category)\n                                }}\n                                xs={12}>\n                                <Typography noWrap={true}>\n                                    {category.name}\n                                </Typography>\n                                <Typography noWrap={true} className={classes.genresSubtitle}>\n                                    Generos: {genresFromCategory}\n                                </Typography>\n                            </GridSelectedItem>\n                        )\n                    })\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;","import * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {FormControl, Typography, FormControlProps, FormHelperText} from \"@material-ui/core\";\nimport useHttpHandle from \"../../../hooks/useHttpHandle\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport {MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef} from \"react\";\nimport castMembersHttp from \"../../../util/http/castMember-http\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps>{\n    castMembers: any[],\n    setCastMembers: (castMembers) => void,\n    error: any,\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {castMembers, setCastMembers, error, disabled} = props;\n    const autoCompleteHttp = useHttpHandle();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autoCompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    const fetchOptions = useCallback((searchText) => {\n        return autoCompleteHttp(\n            castMembersHttp\n                .list({\n                    queryParams: {\n                        search: searchText,\n                        all: ''\n                    }})\n        ).then(data => data.data);\n    }, [autoCompleteHttp]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autoCompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autoCompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Elenco',\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin=\"normal\"\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        castMembers.map((castMember, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={ () => {\n                                    removeItem(castMember)\n                                }}\n                                xs={6}>\n                                <Typography noWrap={true}>\n                                    {castMember.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;","import {useSnackbar} from \"notistack\";\nimport {useEffect} from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if (submitCount > 0 && hasError) {\n            enqueueSnackbar(\n                'Formulário inválido. Reveja os campos marcados de vermelho.',\n                {variant: 'error'}\n            )\n        }\n    }, [submitCount, errors, enqueueSnackbar])\n};\n\nexport default useSnackbarFormError;","import {FileUpload, Upload} from \"./types\";\n\nexport function countInProgress(uploads: Upload[]) {\n    return uploads.filter(upload => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error);\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n    return 'video' in obj;\n}\n","import * as React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {CircularProgress, Fade, Theme} from \"@material-ui/core\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {FileUpload, Upload} from \"../store/upload/types\";\nimport {hasError} from \"../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer: {\n        position: 'relative',\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    }\n}));\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n}\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const {size, uploadOrFile} = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile);\n\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    variant={\"static\"}\n                    value={100}\n                    className={classes.progressBackground}\n                    size={size}\n                />\n                <CircularProgress\n                    variant={\"static\"}\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    className={classes.progress}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    );\n};\n\nexport default UploadProgress;","import * as Typings from './types';\nimport {createActions, createReducer} from 'reduxsauce';\nimport update from 'immutability-helper';\n\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string,\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction,\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction,\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction,\n}>({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload'],\n});\n\nexport const INITIAL_STATE : Typings.UploadState= {\n    uploads: []\n};\n\nconst reducer = createReducer(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any,\n})\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction) : Typings.UploadState {\n    if (!action.payload.files.length) {\n        return state;\n    }\n\n    const index = fileIndexUpload(state, action.payload.video.id);\n    if (index !== -1 && state.uploads[index].progress < 1) {\n        return state;\n    }\n\n    const uploads = index === -1\n        ? state.uploads\n        : update(state.uploads, {\n            $splice: [[index, 1]]\n        })\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    } as Typings.UploadState;\n}\n\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n\n    if (uploads.length === state.uploads.length) {\n        return state;\n    }\n\n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress) {\n        return state;\n    }\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                }) as any; //fui obrigado a colocar any senão o calculateGlobalProgress não aceita\n                const progress = calculateGlobalProgress(files);\n                return {...upload, progress, files}\n            }\n        }\n    });\n\n    return {uploads} as Typings.UploadState; //não reconhece que uploads será do tipo Typings.State\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    });\n\n    return {uploads} as Typings.UploadState; //não reconhece que uploads será do tipo Typings.State\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId, fileField): {indexUpload?, indexFile?} {\n    const indexUpload = fileIndexUpload(state, videoId);\n    if (indexUpload === -1) {\n        return {};\n    }\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    return indexFile === -1 ? {} : {indexUpload, indexFile}\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>) {\n    const countFiles = files.length;\n    if (! countFiles) {\n        return 0;\n    }\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n\n    return sumProgress / countFiles;\n}\n\nfunction fileIndexUpload(state: Typings.UploadState, id: string) {\n    return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string) {\n    return files.findIndex(file => file.fileField === fileField);\n}","import * as React from 'react';\nimport {Fade, IconButton, ListItemSecondaryAction, Theme} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport {Upload} from \"../../store/upload/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Creators} from \"../../store/upload\";\nimport {hasError, isFinished} from \"../../store/upload/getters\";\nimport {useEffect, useState} from \"react\";\nimport {useDebounce} from \"use-debounce\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    }\n}));\n\ninterface UploadActionsProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst UploadActions: React.FC<UploadActionsProps> = (props) => {\n    const {upload, hover} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{enter: 1000}}>\n                    <ListItemSecondaryAction>\n                <span hidden={hover}>\n                    {\n                        upload.progress === 1 && !error && (\n                            <IconButton className={classes.successIcon} edge={\"end\"}>\n                                <CheckCircleIcon/>\n                            </IconButton>\n                        )\n                    }\n                    {\n                        error && (\n                            <IconButton className={classes.errorIcon} edge={\"end\"}>\n                                <ErrorIcon/>\n                            </IconButton>\n                        )\n                    }\n                </span>\n                <span hidden={!hover}>\n                    <IconButton\n                        color={'primary'}\n                        edge={\"end\"}\n                        onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                    >\n                        <DeleteIcon/>\n                    </IconButton>\n                </span>\n                    </ListItemSecondaryAction>\n                </Fade>\n            )\n            : null\n    )\n};\n\nexport default UploadActions;","import * as React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Divider, ListItem, ListItemIcon, ListItemText, Theme, Tooltip, Typography} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from \"../UploadProgress\";\nimport {Upload} from \"../../store/upload/types\";\nimport UploadActions from \"./UploadActions\";\nimport {hasError} from \"../../store/upload/getters\";\nimport {useState} from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px',\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary,\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    }\n}));\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = useState(false);\n\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableHoverListener\n                title={\n                    error ? \"Não foi possível fazer o upload, clique para mais detalhes\" : \"\"\n                }\n                placement={\"left\"}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress uploadOrFile={upload} size={30}/>\n                    <UploadActions upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\" />\n        </>\n    );\n};\n\nexport default UploadItem;","import * as React from 'react';\nimport {Card, CardActions, Collapse, IconButton, List, Theme, Typography} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {useSnackbar} from \"notistack\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useState} from \"react\";\nimport classnames from \"classnames\";\nimport UploadItem from \"./UploadItem\";\nimport {useSelector} from \"react-redux\";\nimport {Upload, UploadModule} from \"../../store/upload/types\";\nimport {countInProgress} from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main,\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText,\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    }\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number;\n};\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n\n    const {id} = props;\n    const classes = useStyles();\n    const {closeSnackbar} = useSnackbar();\n    const [expanded, setExpanded] = useState(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{ root: classes.cardActionRoot}}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress} vídeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classnames(classes.expand, {[classes.expandOpen]: !expanded} )}\n                    >\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon/>\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem key={key} upload={upload}/>\n                        ))\n                    }\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;","import * as React from 'react';\nimport {\n    Checkbox,\n    makeStyles,\n    TextField,\n    Theme,\n    FormControlLabel,\n    Grid, Typography, useTheme, useMediaQuery, Card, CardContent\n} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport * as yup from '../../../util/vendor/yup';\nimport {useParams, useHistory} from 'react-router';\nimport {createRef, MutableRefObject, useCallback, useContext, useEffect, useRef, useState} from \"react\";\nimport {useSnackbar} from \"notistack\";\nimport {Genre, Video, VideoFileFieldMap} from \"../../../util/models\";\nimport SubmitActions from \"../../../components/SubmitActions\";\nimport {DefaultForm} from \"../../../components/DefaultForm\";\nimport videoHttp from \"../../../util/http/video-http\";\nimport RatingField from \"./RatingField\";\nimport UploadField from \"./UploadField\";\nimport GenreField, {GenreFieldComponent} from \"./GenreField\";\nimport CategoryField, {CategoryFieldComponent} from \"./CategoryField\";\nimport CastMemberField, {CastMemberFieldComponent} from \"./CastMemberField\";\nimport {InputFileComponent} from \"../../../components/InputFile\";\nimport {omit, zipObject} from \"lodash\";\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\nimport SnackbarUpload from \"../../../components/SnackbarUpload\";\nimport {useDispatch} from \"react-redux\";\nimport {FileInfo} from \"../../../store/upload/types\";\nimport {Creators} from \"../../../store/upload\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\n\nconst useStyles = makeStyles((theme:Theme) => ({\n    cardUpload: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n        margin: theme.spacing(2,0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px !important'\n    },\n}));\n\nconst validationSchema = yup.object().shape({\n    title: yup.string()\n        .required()\n        .label('Título')\n        .max(255),\n    description: yup.string()\n        .required()\n        .label('Sinopse'),\n    year_launched: yup.number()\n        .required()\n        .min(1)\n        .label('Ano de lançamento'),\n    duration: yup.number()\n        .required()\n        .min(1)\n        .label('Duração'),\n    genres: yup.array()\n        .label('Gêneros')\n        .required()\n        //erro: value Object is of type 'unknown'.\n        .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value){ //array genres [{name, categories: []}]\n                const genres = value as Genre[];\n                return genres.every(\n                    v => v.categories.filter(\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                    ).length !== 0\n                );\n            }\n        }),\n    categories: yup.array()\n        .label('Categorias')\n        .required(),\n    rating: yup.string()\n        .required()\n        .label('Classificação')\n});\n\nconst fileFields = Object.keys(VideoFileFieldMap);\n\nexport const Form = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        trigger,\n        formState\n    } = useForm<any>({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            genres: [],\n            categories: [],\n            cast_members: [],\n            rating: null,\n            opened: false,\n        }\n    });\n\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const classes = useStyles();\n    const {enqueueSnackbar} = useSnackbar();\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const {id} = useParams();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext);\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n        zipObject(fileFields, fileFields.map(() => createRef()))\n    ) as MutableRefObject<{ [key: string]: MutableRefObject<InputFileComponent> }>;\n\n    // @TODO: ver porque essa const nao foi usada\n    // const uploads = useSelector<UploadModule, Upload[]>(\n    //     (state) => state.upload.uploads\n    // );\n\n    const resetForm = useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data); //removido se quiser\n    }, [uploadsRef, castMemberRef, genreRef, categoryRef, reset]);\n\n    useEffect(() => {\n        ['rating', 'opened', 'genres', 'categories', 'cast_members', ...fileFields].forEach(name => register({name}));\n        // acima a forma de fazer em uma linha o conteudo abaixo\n        // const otherFields = ['rating', 'opened'];\n        // for (let name of otherFields) {\n        //     register({name});\n        // }\n    }, [register]);\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n        let isSubscribed = true;\n        //iife\n        (async () => {\n            try {\n                const {data} = await videoHttp.get(id);\n                if (isSubscribed){\n                    setVideo(data.data);\n                    resetForm(data.data); //ver se nao vai dar problema antes era reset\n                }\n\n            } catch (error) {\n                console.log(error);\n                enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                    {variant: \"error\"})\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, [id, resetForm, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        const sendData = omit(\n            formData,\n            [...fileFields, 'cast_members', 'genres', 'categories']);\n        console.log(sendData);\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n\n        try {\n            const http = !video\n                ? videoHttp.create(sendData)\n                : videoHttp.update(video.id, sendData)\n            const {data} = await http;\n            enqueueSnackbar(\n                'Vídeo cadastrado com sucesso!',\n                {variant: \"success\"});\n            uploadFiles(data.data);\n            //id && resetForm(video);\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/videos/${data.data.id}/edit`)\n                            : history.push(`/videos/${data.data.id}/edit`)\n                    ) :\n                    history.push(\"/videos/\")\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\n                'Falha ao cadastrar video',\n                {variant: \"error\"})\n        }\n    }\n\n    function uploadFiles(video) {\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField])\n            .map(fileField => ({fileField, file: getValues()[fileField] as File}));\n\n        if (!files.length) {\n            return;\n        }\n\n        dispatch(Creators.addUpload({video, files}));\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        })\n    }\n\n    return (\n        <DefaultForm\n            onSubmit={handleSubmit(onSubmit)}\n            GridItemProps={{xs: 12}}\n        >\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        fullWidth\n                        variant={\"outlined\"}\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.name !== undefined}\n                        helperText={errors.name && errors.name.message}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        fullWidth\n                        multiline\n                        rows={4}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lançamento\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                fullWidth\n                                variant={\"outlined\"}\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                fullWidth\n                                variant={\"outlined\"}\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value)}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n                    <br/>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating', value)}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <br/>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color={\"primary\"} variant={\"h6\"}>\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                accept={\"image/*\"}\n                                label={\"Thumb\"}\n                                setValue={(value) => setValue(\"thumb_file\", value)}\n                            />\n                            <UploadField\n                                accept={\"image/*\"}\n                                label={\"Banner\"}\n                                setValue={(value) => setValue(\"banner_file\", value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color={\"primary\"} variant={\"h6\"}>\n                                Vídeos\n                            </Typography>\n                            <UploadField\n                                accept={\"video/mp4\"}\n                                label={\"Trailer\"}\n                                setValue={(value) => setValue(\"trailer_file\", value)}\n                            />\n                            <UploadField\n                                accept={\"video/mp4\"}\n                                label={\"Principal\"}\n                                setValue={(value) => setValue(\"video_file\", value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <br/>\n                    <Card className={classes.cardOpened}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color={'primary'}\n                                        onChange={() => setValue('opened', !getValues()['opened'])}\n                                        checked={watch('opened')}\n                                        disabled={loading}\n                                    />\n                                }\n                                label={\n                                    <Typography color={'primary'} variant={'subtitle2'}>\n                                        Quero que este conteúdo apareça na seção lançamentos\n                                    </Typography>\n                                }\n                                labelPlacement={\"end\"}\n                            />\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() =>\n                    trigger().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })\n                }\n            />\n        </DefaultForm>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <div>\n            <Page title={!id ? \"Criar vídeo\" : \"Editar vídeo\"}>\n                <Form/>\n            </Page>\n        </div>\n    );\n};\n\nexport default PageForm;","import * as React from 'react';\nimport {Divider, Fade, IconButton, Theme} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport {Link} from \"react-router-dom\";\nimport {FileUpload, Upload} from \"../../store/upload/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Creators} from \"../../store/upload\";\nimport {hasError, isFinished, isUploadType} from \"../../store/upload/getters\";\nimport {useEffect, useState} from \"react\";\nimport {useDebounce} from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main,\n        marginLeft: theme.spacing(1)\n    },\n    errorIcon: {\n        color: theme.palette.error.main,\n        marginLeft: theme.spacing(1)\n    },\n    divider: {\n        height: '20px',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1)\n    }\n}));\n\ninterface UploadActionsProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadActions: React.FC<UploadActionsProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : \"\";\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon}/>\n                    }\n\n                    {error && <ErrorIcon className={classes.errorIcon}/>}\n\n                    {\n                        activeActions && (\n                            <>\n                                <Divider className={classes.divider} orientation={'vertical'}/>\n                                <IconButton\n                                    onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                                >\n                                    <DeleteIcon color={'primary'}/>\n                                </IconButton>\n                                <IconButton\n                                    component={Link}\n                                    to={`/videos/${videoId}/edit`}\n                                >\n                                    <EditIcon color={'primary'}/>\n                                </IconButton>\n                            </>\n                        )}\n                </>\n            </Fade>)\n            : null\n    );\n};\n\nexport default UploadActions;","import * as React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid, ListItem, Theme, Typography} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport UploadAction from \"./UploadActions\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport {FileUpload, Upload} from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    gridTitle: {\n        display: 'flex',\n        color: '#999999',\n        height: '53px',\n    },\n    icon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    }\n}));\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon} />\n        }\n        return <ImageIcon className={classes.icon} />\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems={'center'}>\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction={\"row\"}\n                        alignItems={'center'}\n                        justify={\"flex-end\"}\n                    >\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\n                        <UploadAction uploadOrFile={uploadOrFile}/>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nexport default UploadItem;","\nimport * as React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {\n    Card,\n    CardContent, Divider,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary, Grid, List,\n    Theme,\n    Typography\n} from \"@material-ui/core\";\nimport {Page} from \"../../components/Page\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport UploadItem from \"./UploadItem\";\nimport {useSelector} from \"react-redux\";\nimport {UploadModule, Upload as UploadTypes} from \"../../store/upload/types\";\nimport {VideoFileFieldMap} from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    panelSummary: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText\n    },\n    expandedIcon: {\n        color: theme.palette.primary.contrastText\n    }\n}));\n\nconst Upload = () => {\n    const classes = useStyles();\n\n    const uploads = useSelector<UploadModule, UploadTypes[]>(\n        (state) => state.upload.uploads\n    );\n\n    return (\n        <Page title={'Uploads'}>\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{margin: 0}}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{padding: '0px'}}>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{padding: '0px'}}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n};\n\nexport default Upload;","import {RouteProps} from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\nimport CategoryList from \"../pages/category/PageList\";\nimport CastMembersList from \"../pages/cast-member/PageList\";\nimport GenreList from \"../pages/genre/PageList\";\nimport CategoryForm from \"../pages/category/PageForm\";\nimport CastMembersForm from \"../pages/cast-member/PageForm\";\nimport GenreForm from \"../pages/genre/PageForm\";\nimport VideoList from \"../pages/video/PageList\";\nimport VideoForm from \"../pages/video/PageForm\";\nimport UploadPage from \"../pages/uploads\"\n\nexport interface MYRouteProps extends RouteProps\n{\n    name: string,\n    label: string\n}\n\nconst routes = [\n    {\n        name: 'dashboard',\n        label: \"Dashboard\",\n        path: \"/\",\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: \"Listar categorias\",\n        path: \"/categories\",\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: \"Criar categorias\",\n        path: \"/categories/create\",\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: \"Editar categorias\",\n        path: \"/categories/:id/edit\",\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: \"Listar membros de elencos\",\n        path: \"/cast-members\",\n        component: CastMembersList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: \"Criar membros de elencos\",\n        path: \"/cast-members/create\",\n        component: CastMembersForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: \"Editar membros de elencos\",\n        path: \"/cast-members/:id/edit\",\n        component: CastMembersForm,\n        exact: true\n    },\n    {\n        name: 'genre.list',\n        label: \"Listar gêneros\",\n        path: \"/genres\",\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genre.create',\n        label: \"Criar gênero\",\n        path: \"/genres/create\",\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genre.edit',\n        label: \"Editar gênero\",\n        path: \"/genres/:id/edit\",\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'video.list',\n        label: \"Listar vídeos\",\n        path: \"/videos\",\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'video.create',\n        label: \"Criar Vídeo\",\n        path: \"/videos/create\",\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'video.edit',\n        label: \"Editar vídeo\",\n        path: \"/videos/:id/edit\",\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: \"Uploads\",\n        path: \"/uploads\",\n        component: UploadPage,\n        exact: true\n    },\n];\n\nexport default routes;","import * as React from 'react';\nimport {IconButton, MenuItem, Menu as MuiMenu} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport routes, {MYRouteProps} from \"../../routes\";\nimport {Link} from \"react-router-dom\";\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categorias',\n    'cast_members.list': 'Membros do elenco',\n    'genre.list': 'Gêneros',\n    'video.list': 'Vídeos',\n    'uploads': 'Uploads',\n};\n\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu = () => {\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n\n    const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n    const handleClose = () => setAnchorEl(null);\n\n    return (\n        <React.Fragment>\n            <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleOpen}\n            >\n                <MenuIcon/>\n            </IconButton>\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}}\n                transformOrigin={{vertical: \"top\", horizontal: \"center\"}}\n                getContentAnchorEl={null}\n            >\n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route => route.name === routeName) as MYRouteProps;\n                            return (\n                                <MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n            </MuiMenu>\n        </React.Fragment>\n    );\n};","import * as React from 'react';\nimport {AppBar, Button, Theme, Toolbar, Typography} from \"@material-ui/core\";\nimport logo from \"../../static/img/logo.png\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Menu} from \"./Menu\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: \"#000000\"\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\"\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')] : {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu/>\n                <Typography className={classes.title}>\n                    <img src={logo} alt=\"Codeflix\" className={classes.logo}/>\n                </Typography>\n                <Button color=\"inherit\">\n                    Login\n                </Button>\n            </Toolbar>\n        </AppBar>\n    );\n};","import * as React from 'react';\nimport {Switch, Route} from \"react-router-dom\";\nimport routes from \"./index\";\n\nconst AppRouter = () => {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter;","import React from 'react';\nimport {makeStyles, Theme, createStyles, Container, Box} from '@material-ui/core';\nimport Link, {LinkProps} from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport {Route} from 'react-router';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {Location} from 'history';\nimport routes from \"../routes\";\nimport RouteParser from 'route-parser';\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label);\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        linkRouter: {\n            color: theme.palette.secondary.main,\n            \"&:focus, &:active\": {\n                color: theme.palette.secondary.main\n            },\n            \"&:hover\": {\n                color: theme.palette.secondary.dark\n            }\n        }\n    }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n    to: string;\n    replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any}/>;\n\nexport default function Breadcrumbs() {\n    const classes = useStyles();\n\n    function makeBreadcrumb(location: Location) {\n        const pathnames = location.pathname.split('/').filter((x) => x);\n        pathnames.unshift('/');\n\n        return (\n            <MuiBreadcrumbs aria-label=\"breadcrumb\">\n                {pathnames.map((value, index) => {\n                    const last = index === pathnames.length - 1;\n                    const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n                    const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to));\n                    if(route === undefined) {\n                        return false;\n                    }\n\n                    return last ? (\n                        <Typography color=\"textPrimary\" key={to}>\n                            {breadcrumbNameMap[route]}\n                        </Typography>\n                    ) : (\n                        <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                            {breadcrumbNameMap[route]}\n                        </LinkRouter>\n                    );\n                })}\n            </MuiBreadcrumbs>\n        );\n    }\n\n    return (\n        <Container>\n            <Box paddingTop={2} paddingBottom={2}>\n                <Route>\n                    {\n                        ({location}) => makeBreadcrumb(location)\n                    }\n                </Route>\n            </Box>\n        </Container>\n    );\n}\n","import * as React from 'react';\nimport {SnackbarProvider as NotifySnackbarProvider, SnackbarProviderProps} from \"notistack\";\nimport {IconButton, makeStyles} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport theme from \"../theme\";\n\nconst useStyles = makeStyles(() => {\n    return {\n        variantSuccess: {\n            backgroundColor: theme.palette.success.main\n        },\n        variantError: {\n            backgroundColor: theme.palette.error.main\n        },\n        variantInfo: {\n            backgroundColor: theme.palette.primary.main\n        }\n    }\n});\n\nexport const SnackbarProvider:React.FC<SnackbarProviderProps> = (props) => {\n\n    let snackbarProviderRef;\n    const classes = useStyles();\n    const defaultProps: SnackbarProviderProps = {\n        classes,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        children: undefined,\n        preventDuplicate: true,\n        ref: (el) => snackbarProviderRef = el,\n        action: (key) => (\n            <IconButton\n                color={\"inherit\"}\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon />\n            </IconButton>\n        )\n    };\n\n    const newProps = {...defaultProps, ...props}\n\n    return (\n        <NotifySnackbarProvider {...newProps}>\n            {props.children}\n        </NotifySnackbarProvider>\n    );\n};","import * as React from 'react';\nimport {Fade, LinearProgress, MuiThemeProvider, Theme} from \"@material-ui/core\";\nimport {useContext} from \"react\";\nimport LoadingContext from \"./loading/LoadingContext\";\n\nfunction makeLocalTheme(theme: Theme) {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error\n        }\n    }\n};\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color={'primary'}\n                    style={{\n                        position: 'fixed',\n                        width: '100%',\n                        zIndex: 9999\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;","import * as React from 'react';\nimport LoadingContext from \"./LoadingContext\";\nimport {useEffect, useMemo, useState} from \"react\";\nimport {\n    addGlobalRequestInterceptor,\n    addGlobalResponseInterceptor,\n    removeGlobalRequestInterceptor, removeGlobalResponseInterceptor\n} from \"../../util/http\";\n\nconst LoadingProvider = (props) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState(0);\n\n    useMemo(() => {\n        let isSubscribed = true;\n\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if (isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')) {\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1)\n            }\n            return config;\n        });\n        // forma antiga (que nao montava a ordem)\n        // axios.interceptors.request.use((config) => {\n        //     if (isSubscribed) {\n        //         setLoading(true);\n        //     }\n        //     return config;\n        // });\n\n        const responseIds = addGlobalResponseInterceptor((response) => {\n            if (isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return response;\n            }, (error) => {\n            if (isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return Promise.reject(error);\n        });\n\n        function decrementCountRequest() {\n            setCountRequest((prevCountRequest) => prevCountRequest - 1)\n        }\n\n        // forma antiga (que nao montava a ordem)\n        // axios.interceptors.response.use((config) => {\n        //     if (isSubscribed) {\n        //         setLoading(false);\n        //     }\n        //     return config;\n        // }, (error) => {\n        //     if (isSubscribed) {\n        //         setLoading(false);\n        //     }\n        //     return Promise.reject(error);\n        // });\n\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, [true]);\n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false);\n        }\n    }, [countRequest])\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};\n\nexport default LoadingProvider;","import React from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/Navbar\";\nimport {Box, CssBaseline, MuiThemeProvider} from \"@material-ui/core\";\nimport AppRouter from \"./routes/AppRouter\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport Breadcrumbs from \"./components/Breadcrumbs\";\nimport theme from \"./theme\";\nimport {SnackbarProvider} from \"./components/SnackbarProvider\";\nimport Spinner from \"./components/Spinner\";\nimport LoadingProvider from \"./components/loading/LoadingProvider\";\n\nfunction App() {\n    return (\n        <React.Fragment>\n            <LoadingProvider>\n                <MuiThemeProvider theme={theme}>\n                    <SnackbarProvider>\n                        <CssBaseline/>\n                        <BrowserRouter basename=\"/admin\">\n                            <Spinner/>\n                            <Navbar/>\n                            <Box paddingTop={\"70px\"}>\n                                <Breadcrumbs/>\n                                <AppRouter/>\n                            </Box>\n                        </BrowserRouter>\n                    </SnackbarProvider>\n                </MuiThemeProvider>\n            </LoadingProvider>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {Types, Creators} from \"./index\";\nimport {END, eventChannel} from \"redux-saga\";\nimport {actionChannel, take, call, put, select} from \"redux-saga/effects\";\nimport {AddUploadAction, FileInfo} from \"./types\";\nimport {Video} from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\n\nexport function* uploadWhatcherSaga() {\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while (true) {\n        const {payload}: AddUploadAction = yield take(newFilesChannel); //[ [], [] ]\n        console.log(yield select((state) => state));\n        for (const fileInfo of payload.files) {\n            try {\n                const response = yield call(uploadFile, {video: payload.video, fileInfo});\n                console.log(response);\n            }catch (e) {\n                console.log(e);\n            }\n        }\n        console.log(payload);\n    }\n}\n\nfunction* uploadFile({video, fileInfo}: {video: Video, fileInfo: FileInfo}) {\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n    while (true) {\n        try {\n            const {progress, response} = yield take(channel);\n            if (response) {\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        } catch (e) {\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error: e\n            }));\n            throw e;\n        }\n    }\n}\n\nfunction sendUpload({id, fileInfo}: {id: string, fileInfo: FileInfo}) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(\n            id,\n            {\n                _method: 'PATCH',\n                [fileInfo.fileField]: fileInfo.file\n            },\n            {\n                http: {\n                    usePost: true // ver depois porque disso\n                },\n                config: {\n                    headers: {\n                        'x-ignore-loading': true\n                    },\n                    onUploadProgress(progressEvent: ProgressEvent) {\n                        if(progressEvent.lengthComputable) {\n                            const progress = progressEvent.loaded / progressEvent.total;\n                            console.log(progress);\n                            emitter({progress});\n                        }\n                    }\n                }\n            }\n        )\n            .then(response => emitter({response}))\n            .catch(error => emitter(error))\n            .finally(() => emitter(END));\n\n        const unsubscribe = () => {\n        };\n        return unsubscribe;\n    })\n}","import {all} from 'redux-saga/effects';\nimport {uploadWhatcherSaga} from \"./upload/sagas\";\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWhatcherSaga()\n    ])\n}","import {createStore, applyMiddleware, combineReducers} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport upload from \"./upload\";\nimport rootSaga from \"./root-saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from \"./store\";\n\nReactDOM.render(\n    <Provider store={store}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{342:function(e,t){e.exports="data:image/png;base64,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"},369:function(e,t,a){e.exports=a(468)},374:function(e,t,a){},375:function(e,t,a){},468:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a.n(o),i=(a(374),a(375),a(16)),l=a(499),s=a(322),u=a(67),d=a(323),m=a(342),p=a.n(m),f=a(231),b=a(12),g=a(184),h=a(347),v=a(321),O=a(353),j=a.n(O),E=a(496),x=a(230),y=Object(f.a)({title:{color:"#999999"}}),P=function(e){var t=y();return r.createElement("div",null,r.createElement(E.a,null,r.createElement(u.a,{className:t.title,component:"h1",variant:"h5"},e.title),r.createElement(x.a,{paddingTop:2},e.children)))},C=function(e){return r.createElement(P,{title:"Dashboard"})},k=a(514),w=a(85),S=a.n(w),F=a(28),T=a(10),R=a.n(T),I=a(20),A=a(87),D=a(84),N=a(115),B=a(116),L=a(94),M=a.n(L),q=a(343),U=function(){function e(t,a){Object(N.a)(this,e),this.http=t,this.resource=a,this.cancelList=null}return Object(B.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list canceled"),this.cancelList=M.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,c=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,c):this.http.put("".concat(this.resource,"/").concat(e),r,c)}},{key:"partialUpdate",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,c=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,c):this.http.patch("".concat(this.resource,"/").concat(e),r,c)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCanceledRequest",value:function(e){return M.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(q.a)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),V=a(95),_=M.a.create({baseURL:"http://localhost:8000/api"}),z=[_];var G=new U(_,"categories"),W=a(105),H=a(497),Y=a(339),Q=a(114),X=a(111),Z={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:Q.a[500],contrastText:"#fff"},error:{main:X.a.A400}},K=Object(W.a)({palette:Z,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:Z.background.default},icon:{color:Z.primary.main,"&:hover, &:active, &: focus":{color:Z.secondary.dark}},iconActive:{color:Z.secondary.dark,"&:hover, &:active, &: focus":{color:Z.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:Z.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:Z.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:Z.secondary.main,"&:hover, &:active, &: focus":{color:Z.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:Z.primary.main},iconButton:{color:Z.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Z.background.default}}},MUIDataTablePagination:{root:{color:Z.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),J=Object(W.a)({palette:{primary:K.palette.success,secondary:K.palette.error}}),$=function(){return r.createElement(H.a,{theme:J},r.createElement(Y.a,{label:"Sim",color:"primary"}))},ee=function(){return r.createElement(H.a,{theme:J},r.createElement(Y.a,{label:"N\xe3o",color:"secondary"}))},te=a(8),ae=a(344),re=a.n(ae),ne=a(46),oe=a(21),ce=a(516),ie=a(192),le=a(357),se=a(356),ue=a(139),de=a(327),me=a(237),pe=a.n(me),fe=a(238),be=a.n(fe),ge=a(4),he=function(e){Object(le.a)(a,e);var t=Object(se.a)(a);function a(e){var r;Object(N.a)(this,a),(r=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;r.setState({text:t},(function(){return r.debouncedOnSearch(t)}))},r.debouncedOnSearch=function(e){r.props.onSearch(e)},r.onKeyDown=function(e){27===e.keyCode&&r.props.onHide()};var n=r.props.searchText,o=n;return n&&void 0!==n.value&&(o=n.value),r.state={text:o},r.debouncedOnSearch=Object(ne.debounce)(r.debouncedOnSearch.bind(Object(ie.a)(r)),r.props.debounceTime),r}return Object(B.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var r=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var o=n.value;if(o)this.setState({text:o},(function(){return r.props.onSearch(o)}));else try{this.props.onHide()}catch(c){}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.options,o=t.onHide,c=this.state.text;return n.a.createElement(ue.a,{appear:!0,in:!0,timeout:300},n.a.createElement("div",{className:a.main,ref:function(t){return e.rootRef=t}},n.a.createElement(pe.a,{className:a.searchIcon}),n.a.createElement(de.a,{className:a.searchText,autoFocus:!0,InputProps:{"data-test-id":r.textLabels.toolbar.search,"aria-label":r.textLabels.toolbar.search},value:c||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:r.searchPlaceholder}),n.a.createElement(g.a,{className:a.clearIcon,onClick:o},n.a.createElement(be.a,null))))}}]),a}(n.a.PureComponent),ve=Object(ge.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(he),Oe=r.forwardRef((function(e,t){var a,n,o=Object(ne.cloneDeep)(Object(oe.a)()),c=Object(ce.a)(o.breakpoints.down("sm")),i=(a=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver colunas",filterTable:"Filtrar tabelas"},filter:{all:"Todos",title:"Filtro",reset:"Limpar"},viewColumns:{title:"Ver colunas",titleAria:"Ver/Esconder colunas da tabela"},selectedRows:{text:"Registros selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,n,o){return r.createElement(ve,{searchText:e,onSearch:t,onHide:n,options:o,debounceTime:a})}}),l=Object(ne.merge)({options:Object(ne.cloneDeep)(i)},e,{columns:(n=e.columns,function(e){e.forEach((function(e,t){var a=o.overrides;e.width&&(a.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(n),n.map((function(e){return Object(ne.omit)(e,"width")})))});!function(){var e=l.options.textLabels;e.body.noMatch=!0===l.loading?"Carregando...":e.body.noMatch}(),l.options.responsive=c?"scrollMaxHeight":"stacked";var s=Object(te.a)(Object(te.a)({},Object(ne.omit)(l,"loading")),{},{ref:t});return r.createElement("div",null,r.createElement(H.a,{theme:o},r.createElement(re.a,s)))}));function je(e){return function(t){var a=Object(ne.cloneDeep)(t),r='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return a.overrides.MUIDataTableBodyCell.root[r]={paddingTop:"0px",paddingBottom:"0px"},a}}var Ee,xe=a(29),ye=a(73),Pe=a.n(ye),Ce=a(319),ke=a(527),we=Object(f.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Se=function(e){var t=we();return r.createElement(Ce.a,{title:"Limpar busca"},r.createElement(g.a,{className:t.iconButton,onClick:e.handleClick},r.createElement(ke.a,null)))},Fe=a(121),Te=Object(Fe.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Re=Te.Types,Ie=Te.Creators,Ae={search:null,pagination:{page:1,per_page:10},order:{sort:null,dir:null}},De=Object(Fe.createReducer)(Ae,(Ee={},Object(i.a)(Ee,Re.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{search:t.payload.search,pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:1})})})),Object(i.a)(Ee,Re.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:t.payload.page})})})),Object(i.a)(Ee,Re.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(i.a)(Ee,Re.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(i.a)(Ee,Re.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(i.a)(Ee,Re.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{extraFilter:Object(te.a)(Object(te.a)({},e.extraFilter),t.payload)})})),Ee));var Ne=a(528),Be=a(18),Le=a(174);function Me(e){var t=Object(Be.f)(),a=Object(Be.g)(),n=a.search,o=a.pathname,c=a.state,i=e.rowsPerPageOptions,l=e.rowsPerPage,s=e.columns,u=e.extraFilter,d=Object(r.useMemo)((function(){return Le.d().shape(Object(te.a)({search:Le.f().transform((function(e){return e||void 0})).default(""),pagination:Le.d().shape({page:Le.c().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Le.c().transform((function(e){return isNaN(e)||!i.includes(parseInt(e))?void 0:e})).default(l)}),order:Le.d().shape({sort:Le.f().nullable().transform((function(e){return s.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Le.f().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},u&&{extraFilter:u.createValidationSchema()}))}),[i,l,s,u]),m=Object(r.useMemo)((function(){var e=new URLSearchParams(n.substr(1));return d.cast(Object(te.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},u&&{extraFilter:u.getStateFromUrl(e)}))}),[n,d,u]),p=Object(r.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),f=Object(r.useCallback)((function(e,t){var a=p(e.search);return Object(te.a)(Object(te.a)(Object(te.a)(Object(te.a)(Object(te.a)({},a&&""!==a&&{search:a}),e.pagination.page&&1!==e.pagination.page&&{page:e.pagination.page}),e.pagination.per_page&&10!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[p]),g=m,h=Object(r.useReducer)(De,g),v=Object(b.a)(h,2),O=v[0],j=v[1],E=new qe(Object(te.a)(Object(te.a)({},e),{},{state:O,dispatch:j,schema:d})),x=Object(Ne.a)(O,e.debounceTime),y=Object(b.a)(x,1)[0],P=Object(r.useState)(0),C=Object(b.a)(P,2),k=C[0],w=C[1];return Object(r.useEffect)((function(){t.replace({pathname:o,search:"?"+new URLSearchParams(f(m,u)),state:m})}),[t,o,f,m,u]),Object(r.useEffect)((function(){var e={pathname:o,search:"?"+new URLSearchParams(f(y,u)),state:Object(te.a)(Object(te.a)({},y),{},{search:p(y.search)})},a=c,r=y;Object(ne.isEqual)(r,a)||t.push(e)}),[t,o,f,y,u,p,c]),E.state=O,E.applyOrderInColumns(),{columns:E.columns,cleanSearchText:p,filterManager:E,filterState:O,debouncedFilterState:y,dispatch:j,totalRecords:k,setTotalRecords:w}}Object(Le.e)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} \xe9 precisa ter no m\xe1ximo ${max} caracteres"},number:{min:"${path} \xe9 precisa ter no m\xednimo ${min} caracteres"}});var qe=function(){function e(t){Object(N.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var a=t.schema,r=t.columns,n=t.rowsPerPage,o=t.tableRef,c=t.dispatch,i=t.state;this.schema=a,this.columns=r,this.rowsPerPage=n,this.tableRef=o,this.dispatch=c,this.state=i}return Object(B.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Ie.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Ie.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Ie.setPerPage({per_page:e}))}},{key:"changeColumnSortChange",value:function(e,t){this.dispatch(Ie.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Ie.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(te.a)(Object(te.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Ie.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(te.a)(Object(te.a)({},t),{},{options:Object(te.a)(Object(te.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}}]),e}(),Ue=Object(r.createContext)(!1),Ve=[{name:"id",label:"ID",options:{sort:!1,filter:!1},width:"30%"},{name:"name",label:"Nome",width:"40%",options:{filter:!1}},{name:"is_active",label:"Ativo?",options:{filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,a){return e?r.createElement($,null):r.createElement(ee,null)}},width:"4%"},{name:"created_at",label:"Criado em",options:{customBodyRender:function(e,t,a){return r.createElement("span",null,Object(A.a)(Object(D.a)(e),"dd/MM/yyyy"))},filter:!1},width:"10%"},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return r.createElement(g.a,{color:"secondary",component:F.b,to:"/categories/".concat(t.rowData[0],"/edit")},r.createElement(Pe.a,null))}}}],_e=[10,25,50],ze=function(){var e=Object(xe.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(b.a)(a,2),o=n[0],c=n[1],i=Object(r.useContext)(Ue),l=Object(r.useRef)(),s=Me({columns:Ve,debounceTime:300,rowsPerPage:10,rowsPerPageOptions:_e,tableRef:l}),u=s.columns,d=s.filterManager,m=s.cleanSearchText,p=s.filterState,f=s.debouncedFilterState,g=s.totalRecords,h=s.setTotalRecords,v=m(f.search),O=Object(r.useCallback)(function(){var a=Object(I.a)(R.a.mark((function a(r){var n,o,i,l,s,u,d;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.search,o=r.page,i=r.per_page,l=r.sort,s=r.dir,a.prev=1,a.next=4,G.list({queryParams:{search:n,page:o,per_page:i,sort:l,dir:s}});case 4:u=a.sent,d=u.data,t.current&&(c(d.data),h(d.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!G.isCanceledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[h,e]);return Object(r.useEffect)((function(){return t.current=!0,O({search:v,page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir}),function(){t.current=!1}}),[O,v,f.pagination.page,f.pagination.per_page,f.order]),r.createElement(H.a,{theme:je(Ve.length-1)},r.createElement(Oe,{title:"Tabela de categorias",columns:u,data:o,loading:i,debouncedSearchTime:300,ref:l,options:{serverSide:!0,responsive:"scrollMaxHeight",searchText:p.search,page:p.pagination.page-1,rowsPerPage:p.pagination.per_page,rowsPerPageOptions:_e,count:g,customToolbar:function(){return r.createElement(Se,{handleClick:function(){return d.resetFilter()}})},onSearchChange:function(e){return d.changeSearch(e)},onChangePage:function(e){return d.changePage(e)},onChangeRowsPerPage:function(e){return d.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return d.changeColumnSortChange(e,t)}}}))},Ge=function(){return r.createElement(P,{title:"Listagem de categorias"},r.createElement(x.a,{dir:"rtl",paddingBottom:2},r.createElement(k.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:F.b,to:"/categories/create"},r.createElement(S.a,null))),r.createElement(x.a,null,r.createElement(ze,null)))},We={1:"Diretor",2:"Ator"},He={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},Ye=new U(_,"cast_members"),Qe=Object.values(We),Xe=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"type",label:"Tipo",width:"4%",options:{customBodyRender:function(e,t,a){return We[e]},filterOptions:{names:Qe}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(A.a)(Object(D.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return r.createElement(g.a,{color:"secondary",component:F.b,to:"/cast-members/".concat(t.rowData[0],"/edit")},r.createElement(Pe.a,null))}}}],Ze=[10,25,50],Ke=function(){var e=Object(xe.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(b.a)(a,2),o=n[0],c=n[1],l=Object(r.useContext)(Ue),s=Object(r.useRef)(),u=Object(r.useMemo)((function(){return{createValidationSchema:function(){return Le.d().shape({type:Le.f().nullable().transform((function(e){return e&&Qe.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(te.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromUrl:function(e){return{type:e.get("type")}}}}),[]),d=Me({columns:Xe,debounceTime:300,rowsPerPage:10,rowsPerPageOptions:Ze,tableRef:s,extraFilter:u}),m=d.columns,p=d.filterManager,f=d.cleanSearchText,g=d.filterState,h=d.debouncedFilterState,v=d.totalRecords,O=d.setTotalRecords,j=f(h.search),E=m.findIndex((function(e){return"type"===e.name})),x=m[E],y=g.extraFilter&&g.extraFilter.type;x.options.filterList=y?[y]:[];var P=m.map((function(e){return[]}));y&&(P[E]=[y]);var C=Object(r.useCallback)(function(){var a=Object(I.a)(R.a.mark((function a(r){var n,o,i,l,s,u,d,m;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.search,o=r.page,i=r.per_page,l=r.sort,s=r.dir,u=r.type,a.prev=1,a.next=4,Ye.list({queryParams:Object(te.a)({search:n,page:o,per_page:i,sort:l,dir:s},u&&{type:Object(ne.invert)(We)[u]})});case 4:d=a.sent,m=d.data,t.current&&(c(m.data),O(m.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!Ye.isCanceledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[O,e]);return Object(r.useEffect)((function(){return t.current=!0,C(Object(te.a)({search:j,page:h.pagination.page,per_page:h.pagination.per_page,sort:h.order.sort,dir:h.order.dir},h.extraFilter&&h.extraFilter.type&&{type:h.extraFilter.type})),function(){t.current=!1}}),[C,j,h.pagination.page,h.pagination.per_page,h.order,h.extraFilter]),r.createElement(H.a,{theme:je(Xe.length-1)},r.createElement(Oe,{title:"Tabela de membros de elencos",columns:m,data:o,loading:l,debouncedSearchTime:300,ref:s,options:{serverSideFilterList:P,serverSide:!0,responsive:"scrollMaxHeight",searchText:g.search,page:g.pagination.page-1,rowsPerPage:g.pagination.per_page,rowsPerPageOptions:Ze,count:v,onFilterChange:function(e,t,a){var r=m.findIndex((function(t){return t.name===e}));p.changeExtraFilter(Object(i.a)({},e,t[r].length?t[r][0]:null))},customToolbar:function(){return r.createElement(Se,{handleClick:function(){return p.resetFilter()}})},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSortChange(e,t)}}}))},Je=function(){return r.createElement(P,{title:"Listagem de membros de elenco"},r.createElement(x.a,{dir:"rtl",paddingBottom:2},r.createElement(k.a,{title:"Adicionar membro de elenco",color:"secondary",size:"small",component:F.b,to:"/cast-members/create"},r.createElement(S.a,null))),r.createElement(x.a,null,r.createElement(Ke,null)))},$e=new U(_,"genres"),et=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"23%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filter:!1,customBodyRender:function(e,t,a){return e?r.createElement(Y.a,{label:"Sim",color:"primary"}):r.createElement(Y.a,{label:"N\xe3o",color:"secondary"})}}},{name:"categories",label:"Categorias",width:"20%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Criado em",width:"10%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(A.a)(Object(D.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return r.createElement(g.a,{color:"secondary",component:F.b,to:"/genres/".concat(t.rowData[0],"/edit")},r.createElement(Pe.a,null))}}}],tt=[10,25,50],at=function(){var e=Object(xe.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(b.a)(a,2),o=n[0],c=n[1],l=Object(r.useContext)(Ue),s=Object(r.useState)(),u=Object(b.a)(s,2),d=(u[0],u[1]),m=Object(r.useRef)(),p=Object(r.useMemo)((function(){return{createValidationSchema:function(){return Le.d().shape({categories:Le.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(te.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromUrl:function(e){return{categories:e.get("categories")}}}}),[]),f=Me({columns:et,debounceTime:300,rowsPerPage:10,rowsPerPageOptions:tt,tableRef:m,extraFilter:p}),g=f.columns,h=f.filterManager,v=f.cleanSearchText,O=f.filterState,j=f.debouncedFilterState,E=f.totalRecords,x=f.setTotalRecords,y=v(j.search),P=g.findIndex((function(e){return"categories"===e.name})),C=g[P],k=O.extraFilter&&O.extraFilter.categories;C.options.filterList=k||[];var w=g.map((function(e){return[]}));k&&(w[P]=k),Object(r.useEffect)((function(){var t=!0;return Object(I.a)(R.a.mark((function a(){var r,n;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.list({queryParams:{all:""}});case 3:r=a.sent,n=r.data,t&&(d(n.data),C.options.filterOptions.names=n.data.map((function(e){return e.name}))),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0),e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))(),function(){t=!1}}),[C,e]);var S=Object(r.useCallback)(function(){var a=Object(I.a)(R.a.mark((function a(r){var n,o,i,l,s,u,d,m;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.search,o=r.page,i=r.per_page,l=r.sort,s=r.dir,u=r.type,a.prev=1,a.next=4,$e.list({queryParams:Object(te.a)({search:n,page:o,per_page:i,sort:l,dir:s},u&&j.extraFilter&&j.extraFilter.categories&&{categories:j.extraFilter.categories.join(",")})});case 4:d=a.sent,m=d.data,t.current&&(c(m.data),x(m.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!$e.isCanceledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[j,x,e]);return Object(r.useEffect)((function(){return t.current=!0,S(Object(te.a)({search:y,page:j.pagination.page,per_page:j.pagination.per_page,sort:j.order.sort,dir:j.order.dir},j.extraFilter&&j.extraFilter.categories&&{categories:j.extraFilter.categories.join(",")})),function(){t.current=!1}}),[S,y,j.pagination.page,j.pagination.per_page,j.order,j.extraFilter]),r.createElement(H.a,{theme:je(et.length-1)},r.createElement(Oe,{title:"Tabela de g\xeaneros",columns:g,data:o,loading:l,debouncedSearchTime:300,ref:m,options:{serverSideFilterList:w,serverSide:!0,responsive:"scrollMaxHeight",searchText:O.search,page:O.pagination.page-1,rowsPerPage:O.pagination.per_page,rowsPerPageOptions:tt,count:E,onFilterChange:function(e,t,a){var r=g.findIndex((function(t){return t.name===e}));h.changeExtraFilter(Object(i.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return r.createElement(Se,{handleClick:function(){return h.resetFilter()}})},onSearchChange:function(e){return h.changeSearch(e)},onChangePage:function(e){return h.changePage(e)},onChangeRowsPerPage:function(e){return h.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return h.changeColumnSortChange(e,t)}}}))},rt=function(){return r.createElement(P,{title:"Listagem de g\xeaneros"},r.createElement(x.a,{dir:"rtl",paddingBottom:2},r.createElement(k.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:F.b,to:"/genres/create"},r.createElement(S.a,null))),r.createElement(x.a,null,r.createElement(at,null)))},nt=a(324),ot=a(338),ct=a(55),it=a(86),lt=Object(f.a)((function(e){return{submit:{margin:e.spacing(1)}}})),st=function(e){var t={className:lt().submit,color:"secondary",variant:"contained",disabled:void 0===e.disabledButtons&&e.disabledButtons};return r.createElement(x.a,{dir:"ltf"},r.createElement(d.a,Object.assign({},t,{onClick:e.handleSave}),"Salvar"),r.createElement(d.a,Object.assign({},t,{type:"submit"}),"Salvar e continuar editando"))},ut=a(200),dt=a(515),mt=Object(f.a)((function(e){return{gridItem:{margin:e.spacing(1,0)}}})),pt=function(e){var t=mt(),a=e.GridContainerProps,n=e.GridItemProps,o=Object(ut.a)(e,["GridContainerProps","GridItemProps"]);return r.createElement("form",o,r.createElement(dt.a,Object.assign({container:!0},a),r.createElement(dt.a,Object.assign({item:!0,className:t.gridItem},n),e.children)))},ft=Le.d().shape({name:Le.f().required()}),bt=function(){var e=Object(ct.c)({resolver:Object(it.a)(ft),defaultValues:{is_active:!0}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,s=Object(xe.b)(),u=Object(Be.f)(),d=Object(Be.h)().id,m=Object(r.useState)(),p=Object(b.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(!1),v=Object(b.a)(h,2),O=v[0],j=v[1];function E(e,t){return x.apply(this,arguments)}function x(){return(x=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,r=f?G.update(f.id,t):G.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,s.enqueueSnackbar("Categoria cadastrada com sucesso!",{variant:"success"}),setTimeout((function(){a?d?u.replace("/categories/".concat(o.data.id,"/edit")):u.push("/categories/".concat(o.data.id,"/edit")):u.push("/categories/")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),s.enqueueSnackbar("Falha ao cadastrar categoria",{variant:"error"});case 15:return e.prev=15,j(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"is_active"})}),[t]),Object(r.useEffect)((function(){d&&function(){var e=Object(I.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,G.get(d);case 4:t=e.sent,a=t.data,g(a.data),i(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),s.enqueueSnackbar("N\xe3o foi poss\xedvel carregar a lista de categorias",{variant:"error"});case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[d,i,s]),r.createElement(pt,{onSubmit:a(E)},r.createElement(de.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:O,InputLabelProps:{shrink:!0},error:void 0!==c.name,helperText:c.name&&c.name.message}),r.createElement(de.a,{name:"description",label:"Descri\xe7\xe3o",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",margin:"normal",inputRef:t,disabled:O,InputLabelProps:{shrink:!0}}),r.createElement(nt.a,{control:r.createElement(ot.a,{name:"is_active",onChange:function(){return o("is_active",!n().is_active)},checked:l("is_active")}),label:"Ativo?",labelPlacement:"end",disabled:O}),r.createElement(st,{disabledButtons:O,handleSave:function(){return E(n(),null)}}))},gt=function(){var e=Object(Be.h)().id;return r.createElement("div",null,r.createElement(P,{title:e?"Editar categoria":"Criar categoria"},r.createElement(bt,null)))},ht=a(234),vt=a(482),Ot=a(326),jt=a(524),Et=a(481),xt=Le.d().shape({name:Le.f().label("Nome").required().max(255),type:Le.c().label("Tipo").required()}),yt=function(){var e=Object(ct.c)({resolver:Object(it.a)(xt)}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,s=Object(xe.b)(),u=Object(Be.f)(),d=Object(Be.h)().id,m=Object(r.useState)(),p=Object(b.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(!1),v=Object(b.a)(h,2),O=v[0],j=v[1];function E(e,t){return x.apply(this,arguments)}function x(){return(x=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,r=f?Ye.update(f.id,t):Ye.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,s.enqueueSnackbar("Membro de elenco cadastrado com sucesso!",{variant:"success"}),setTimeout((function(){a?d?u.replace("/cast-members/".concat(o.data.id,"/edit")):u.push("/cast-members/".concat(o.data.id,"/edit")):u.push("/cast-members/")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),s.enqueueSnackbar("Falha ao cadastrar elenco",{variant:"error"});case 15:return e.prev=15,j(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"type"})}),[t]),Object(r.useEffect)((function(){d&&function(){var e=Object(I.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,Ye.get(d);case 4:t=e.sent,a=t.data,g(a.data),i(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),s.enqueueSnackbar("N\xe3o foi poss\xedvel carregar o elenco",{variant:"error"});case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[d,i,s]),r.createElement("form",{onSubmit:a(E)},r.createElement(de.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,InputLabelProps:{shrink:!0},disabled:O,error:void 0!==c.name,helperText:c.name&&c.name.settings}),r.createElement(ht.a,{margin:"normal",error:void 0!==c.type,disabled:O},r.createElement(vt.a,{component:"legend"},"Tipo"),r.createElement(Ot.a,{name:"type",onChange:function(e){o("type",parseInt(e.target.value))},value:l("type")+""},r.createElement(nt.a,{value:"1",control:r.createElement(jt.a,null),label:"Diretor"}),r.createElement(nt.a,{value:"2",control:r.createElement(jt.a,null),label:"Ator"})),c.type&&r.createElement(Et.a,{id:"type-helper-text"},c.type.message)),r.createElement(st,{disabledButtons:O,handleSave:function(){return E(n(),null)}}))},Pt=function(){var e=Object(Be.h)().id;return r.createElement("div",null,r.createElement(P,{title:e?"Editar membro de elenco":"Criar membro de elenco"},r.createElement(yt,null)))},Ct=Le.d().shape({name:Le.f().label("Nome").required().max(255),categories_id:Le.c().label("Categorias").required()}),kt=function(){var e=Object(ct.c)({resolver:Object(it.a)(Ct),defaultValues:{categories_id:[],is_active:!0}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.watch,i=e.errors,l=e.reset,s=Object(xe.b)().enqueueSnackbar,u=Object(Be.f)(),d=Object(Be.h)().id,m=Object(r.useState)(),p=Object(b.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)([]),O=Object(b.a)(h,2),j=O[0],E=O[1],x=Object(r.useState)(!1),y=Object(b.a)(x,2),P=y[0],C=y[1];function k(e,t){return w.apply(this,arguments)}function w(){return(w=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,r=f?$e.update(f.id,t):$e.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,s("G\xeanero cadastrado com sucesso!",{variant:"success"}),setTimeout((function(){a?d?u.replace("/genres/".concat(o.data.id,"/edit")):u.push("/genres/".concat(o.data.id,"/edit")):u.push("/genres/")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),s("Falha ao cadastrar g\xeanero",{variant:"error"});case 15:return e.prev=15,C(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(r.useEffect)((function(){var e=!0;return Object(I.a)(R.a.mark((function t(){var a,r,n,o,c,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),a=[G.list({queryParams:{all:""}})],d&&a.push($e.get(d)),t.prev=3,t.next=6,Promise.all(a);case 6:r=t.sent,n=Object(b.a)(r,2),o=n[0],c=n[1],e&&(E(o.data.data),d&&(g(c.data.data),i=c.data.data.categories.map((function(e){return e.id})),l(Object(te.a)(Object(te.a)({},c.data.data),{},{categories_id:i})))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0),s("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 17:return t.prev=17,C(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,13,17,20]])})))(),function(){e=!1}}),[d,l,s]),r.createElement("form",{onSubmit:a(k)},r.createElement(de.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:P,InputLabelProps:{shrink:!0},error:void 0!==i.name,helperText:i.name&&i.name.message}),r.createElement(de.a,{select:!0,name:"categories_id",value:c("categories_id"),label:"Categorias",margin:"normal",variant:"outlined",fullWidth:!0,onChange:function(e){o("categories_id",e.target.value)},SelectProps:{multiple:!0},disabled:P,InputLabelProps:{shrink:!0},error:void 0!==i.categories_id,helperText:i.categories_id&&i.categories_id.message},r.createElement(v.a,{value:"",disabled:!0},r.createElement("em",null,"Selecione categorias")),j.map((function(e,t){return r.createElement(v.a,{key:t,value:e.id},e.name)}))),r.createElement(ot.a,{name:"is_active",inputRef:t,defaultChecked:!0})," Ativo?",r.createElement(st,{disabledButtons:P,handleSave:function(){return k(n(),null)}}))},wt=function(){return r.createElement("div",null,r.createElement(P,{title:"Criar g\xeanero"},r.createElement(kt,null)))},St=new U(_,"videos"),Ft=a(505),Tt=a(509),Rt=a(507),It=a(508),At=a(506),Dt=function(e){var t=e.open,a=e.handleClose;return r.createElement(Ft.a,{open:t,onClose:function(){return a(!1)}},r.createElement(Tt.a,null,"Exclus\xe3o de registros"),r.createElement(Rt.a,null,r.createElement(It.a,null,"Deseja realmmente excluir este(s) registro(s)?")),r.createElement(At.a,null,r.createElement(d.a,{onClick:function(){return a(!1)},color:"primary"},"Cancelar"),r.createElement(d.a,{onClick:function(){return a(!0)},color:"primary",autoFocus:!0},"Excluir")))},Nt=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({data:[]}),c=Object(b.a)(o,2),i=c[0],l=c[1];return Object(r.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:a,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:l}},Bt=[{name:"id",label:"ID",options:{sort:!1,filter:!1},width:"30%"},{name:"title",label:"T\xedtulo",width:"40%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"20%",options:{filter:!1,customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",width:"20%",options:{filter:!1,customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"opened",label:"Publicado?",options:{filter:!1,customBodyRender:function(e,t,a){return e?r.createElement($,null):r.createElement(ee,null)}},width:"4%"},{name:"created_at",label:"Criado em",options:{customBodyRender:function(e,t,a){return r.createElement("span",null,Object(A.a)(Object(D.a)(e),"dd/MM/yyyy"))},filter:!1},width:"10%"},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return r.createElement(g.a,{color:"secondary",component:F.b,to:"/videos/".concat(t.rowData[0],"/edit")},r.createElement(Pe.a,null))}}}],Lt=[10,25,50],Mt=function(){var e=Object(xe.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(b.a)(a,2),o=n[0],c=n[1],i=Object(r.useContext)(Ue),l=Nt(),s=l.openDeleteDialog,u=l.setOpenDeleteDialog,d=l.rowsToDelete,m=l.setRowsToDelete,p=Object(r.useRef)(),f=Me({columns:Bt,debounceTime:300,rowsPerPage:10,rowsPerPageOptions:Lt,tableRef:p}),g=f.columns,h=f.filterManager,v=f.cleanSearchText,O=f.filterState,j=f.debouncedFilterState,E=f.totalRecords,x=f.setTotalRecords,y=v(j.search),P=Object(r.useCallback)(function(){var a=Object(I.a)(R.a.mark((function a(r){var n,o,i,l,d,m,p;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.search,o=r.page,i=r.per_page,l=r.sort,d=r.dir,a.prev=1,a.next=4,St.list({queryParams:{search:n,page:o,per_page:i,sort:l,dir:d}});case 4:m=a.sent,p=m.data,t.current&&(c(p.data),x(p.meta.total),s&&u(!1)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!St.isCanceledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[s,u,x,e]);return Object(r.useEffect)((function(){return t.current=!0,P({search:y,page:j.pagination.page,per_page:j.pagination.per_page,sort:j.order.sort,dir:j.order.dir}),function(){t.current=!1}}),[P,y,j.pagination.page,j.pagination.per_page,j.order]),r.createElement(H.a,{theme:je(Bt.length-1)},r.createElement(Dt,{open:s,handleClose:function(t){if(t){var a=d.data.map((function(e){return o[e.index].id})).join(",");St.deleteCollection({ids:a}).then((function(t){if(e("Registros excluidos com sucesso!",{variant:"success"}),d.data.length===O.pagination.per_page&&O.pagination.page>1){var a=O.pagination.page-2;h.changePage(a)}else P({search:y,page:j.pagination.page,per_page:j.pagination.per_page,sort:j.order.sort,dir:j.order.dir})})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir as informa\xe7\xf5es",{variant:"error"})}))}else u(!1)}}),r.createElement(Oe,{title:"Tabela de v\xeddeos",columns:g,data:o,loading:i,debouncedSearchTime:300,ref:p,options:{serverSide:!0,responsive:"scrollMaxHeight",searchText:O.search,page:O.pagination.page-1,rowsPerPage:O.pagination.per_page,rowsPerPageOptions:Lt,count:E,customToolbar:function(){return r.createElement(Se,{handleClick:function(){return h.resetFilter()}})},onSearchChange:function(e){return h.changeSearch(e)},onChangePage:function(e){return h.changePage(e)},onChangeRowsPerPage:function(e){return h.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return h.changeColumnSortChange(e,t)},onRowsDelete:function(e){return console.log(e),m(e),!1}}}))},qt=function(){return r.createElement(P,{title:"Listagem de v\xeddeos"},r.createElement(x.a,{dir:"rtl",paddingBottom:2},r.createElement(k.a,{title:"Adicionar v\xeddeo",color:"secondary",size:"small",component:F.b,to:"/videos/create"},r.createElement(S.a,null))),r.createElement(x.a,null,r.createElement(Mt,null)))},Ut=a(32),Vt=a(500),_t=a(502),zt=Object(f.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"}}),Gt={L:"#33e913",10:"#1f85f3",12:"#c8b14a",14:"#ee8217",16:"#ff0000",18:"#000000"},Wt=function(e){var t=zt();return r.createElement(u.a,{className:t.root,style:{backgroundColor:Gt[e.rating]}},e.rating)},Ht=[{value:"L",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:r.createElement(jt.a,{color:"primary"}),label:r.createElement(Wt,{rating:"18"}),labelPlacement:"top"}],Yt=function(e){var t=e.value,a=e.setValue,n=e.error,o=e.disabled;return r.createElement(ht.a,Object.assign({margin:"normal",error:void 0!==n,disabled:!0===o},e.FormControlProps),r.createElement(vt.a,{component:"legend"},"Classifica\xe7\xe3o"),r.createElement(x.a,{paddingTop:1},r.createElement(Ot.a,{name:"rating",onChange:function(e){a(e.target.value)},value:t,row:!0},Ht.map((function(e,t){return r.createElement(nt.a,Object.assign({key:t},e))})))),n&&r.createElement(Et.a,null,n.message))},Qt=a(517),Xt=r.forwardRef((function(e,t){var a=Object(r.useRef)(),n=Object(r.useState)(""),o=Object(b.a)(n,2),c=o[0],i=o[1],l=Object(te.a)(Object(te.a)({variant:"outlined"},e.TextFieldsProps),{},{InputProps:Object(te.a)(Object(te.a)({},e.TextFieldsProps&&e.TextFieldsProps.InputProps&&Object(te.a)({},e.TextFieldsProps.InputProps)),{},{readOnly:!0,endAdornment:r.createElement(Qt.a,{position:"end"},e.ButtonFile)}),value:c}),s=Object(te.a)(Object(te.a)({},e.InputFileProps),{},{hidden:!0,ref:a,onChange:function(t){var a=t.target.files;a.length&&i(Array.from(a).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(r.useImperativeHandle)(t,(function(){return{openWindow:function(){return a.current.click()},clear:function(){return i("")}}})),r.createElement(r.Fragment,null,r.createElement("input",Object.assign({type:"file"},s)),r.createElement(de.a,l))})),Zt=a(351),Kt=a.n(Zt),Jt=r.forwardRef((function(e,t){var a=Object(r.useRef)(),n=e.accept,o=e.label,c=e.setValue,i=e.error,l=e.disabled;return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return a.current.clear()}}})),r.createElement(ht.a,Object.assign({margin:"normal",error:void 0!==i,disabled:!0===l,fullWidth:!0},e.FormControlProps),r.createElement(Xt,{ref:a,TextFieldsProps:{label:o,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:n,onChange:function(e){var t=e.target.files;t.length&&c(t[0])}},ButtonFile:r.createElement(d.a,{endIcon:r.createElement(Kt.a,null),variant:"contained",color:"primary",onClick:function(){return a.current.openWindow()}},"Adicionar")}),i&&r.createElement(Et.a,null,i.message))})),$t=a(503),ea=a(523),ta=r.forwardRef((function(e,t){var a=e.AutocompleteProps,n=e.debounceTime,o=void 0===n?300:n,c=e.fetchOptions,i=a,l=i.freeSolo,s=void 0!==l&&l,u=i.onOpen,d=i.onClose,m=i.onInputChange,p=Object(r.useState)(!1),f=Object(b.a)(p,2),g=f[0],h=f[1],v=Object(r.useState)(""),O=Object(b.a)(v,2),j=O[0],E=O[1],x=Object(Ne.a)(j,o),y=Object(b.a)(x,1)[0],P=Object(r.useState)(!1),C=Object(b.a)(P,2),k=C[0],w=C[1],S=Object(r.useState)([]),F=Object(b.a)(S,2),T=F[0],A=F[1],D=Object(te.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(te.a)({},e.TextFieldProps)),N=Object(te.a)(Object(te.a)({loading:k,loadingText:"Carregando..."},a&&Object(te.a)({},a)),{},{open:g,options:T,inputValue:j,noOptionsText:"Nenhum item encontrado",onOpen:function(){h(!0),u&&u()},onClose:function(){h(!1),d&&d()},onInputChange:function(e,t){E(t),m&&m()},renderInput:function(e){return r.createElement(de.a,Object.assign({},e,D,{InputProps:Object(te.a)(Object(te.a)({},e.InputProps),{},{endAdornment:r.createElement(r.Fragment,null,k&&r.createElement($t.a,{color:"inherit",size:20}),e.InputProps.endAdornment)})}))}});return Object(r.useEffect)((function(){g||s||A([])}),[g,s]),Object(r.useEffect)((function(){if(g&&(""!==y||!s)){var e=!0;return Object(I.a)(R.a.mark((function t(){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,c(y);case 4:a=t.sent,e&&A(a);case 6:return t.prev=6,w(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[s,y,g,c]),Object(r.useImperativeHandle)(t,(function(){return{clear:function(){E(""),A([])}}})),r.createElement("div",null,r.createElement(ea.a,N))})),aa=a(240),ra=Object(f.a)((function(e){return Object(aa.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),na=function(e){var t=ra();return r.createElement(dt.a,Object.assign({container:!0,wrap:"wrap",className:t.root},e),e.children)},oa=a(91),ca=a.n(oa),ia=function(e){var t=e.onDelete,a=e.children,n=Object(ut.a)(e,["onDelete","children"]);return r.createElement(dt.a,Object.assign({item:!0},n),r.createElement(dt.a,{container:!0,alignItems:"center",spacing:3},r.createElement(dt.a,{item:!0,xs:2},r.createElement(g.a,{size:"small",color:"inherit",onClick:t},r.createElement(ca.a,null))),r.createElement(dt.a,{item:!0,xs:10,md:10},a)))},la=function(){var e=Object(xe.b)().enqueueSnackbar;return Object(r.useCallback)(function(){var t=Object(I.a)(R.a.mark((function t(a){var r,n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a;case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),M.a.isCancel(t.t0)||e("N\xe3o foi possivel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])},sa=function(e,t){var a=Object(xe.b)();return{addItem:function(r){r&&""!==r&&(e.find((function(e){return e.id===r.id}))?a.enqueueSnackbar("item j\xe1 adicionado",{variant:"info"}):(e.unshift(r),t(e)))},removeItem:function(a){var r=e.findIndex((function(e){return e.id===a.id}));-1!==r&&(e.splice(r,1),t(e))}}};function ua(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var da=r.forwardRef((function(e,t){var a=e.genres,n=e.setGenres,o=e.categories,c=e.setCategories,i=e.error,l=e.disabled,s=la(),d=sa(a,n),m=d.addItem,p=d.removeItem,f=sa(o,c).removeItem,b=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:b,fetchOptions:function(e){return s($e.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))},AutocompleteProps:{autoSelect:!0,clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){return m(t)},disabled:l},TextFieldProps:{label:"G\xeaneros",error:void 0!==i}}),r.createElement(Et.a,{style:{height:"24px"}},"Escolha os g\xeaneros dos v\xeddeos"),r.createElement(ht.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===l},e.FormControlProps),r.createElement(na,null,a.map((function(e,t){return r.createElement(ia,{key:t,onDelete:function(){o.filter((function(t){var r=ua(a,t);return 1===r.length&&r[0].id===e.id})).forEach((function(e){return f(e)})),p(e)},xs:12},r.createElement(u.a,{noWrap:!0},e.name))}))),i&&r.createElement(Et.a,null,i.message)))})),ma=a(108),pa=Object(f.a)((function(e){return{genresSubtitle:{fontSize:"0.8rem",color:ma.a[800]}}})),fa=r.forwardRef((function(e,t){var a=e.categories,n=e.setCategories,o=e.genres,c=e.error,i=e.disabled,l=pa(),s=la(),d=sa(a,n),m=d.addItem,p=d.removeItem,f=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:f,fetchOptions:function(e){return s(G.list({queryParams:{genres:o.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))},AutocompleteProps:{getOptionLabel:function(e){return e.name},onChange:function(e,t){return m(t)},disabled:!o.length||!0===i},TextFieldProps:{label:"Categorias",error:void 0!==c}}),r.createElement(Et.a,{style:{height:"24px"}},"Escola pelo menos uma categoria de cada g\xeanero"),r.createElement(ht.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:!0===i},e.FormControlProps),r.createElement(na,null,a.map((function(e,t){var a=ua(o,e).map((function(e){return e.name})).join(",");return r.createElement(ia,{key:t,onDelete:function(){p(e)},xs:12},r.createElement(u.a,{noWrap:!0},e.name),r.createElement(u.a,{noWrap:!0,className:l.genresSubtitle},"Generos: ",a))}))),c&&r.createElement(Et.a,null,c.message)))})),ba=r.forwardRef((function(e,t){var a=e.castMembers,n=e.setCastMembers,o=e.error,c=e.disabled,i=la(),l=sa(a,n),s=l.addItem,d=l.removeItem,m=Object(r.useRef)(),p=Object(r.useCallback)((function(e){return i(Ye.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[i]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return m.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:m,fetchOptions:p,AutocompleteProps:{clearOnEscape:!0,getOptionSelected:function(e,t){return e.id===t.id},freeSolo:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){return s(t)},disabled:c},TextFieldProps:{label:"Elenco",error:void 0!==o}}),r.createElement(ht.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==o,disabled:!0===c},e.FormControlProps),r.createElement(na,null,a.map((function(e,t){return r.createElement(ia,{key:t,onDelete:function(){d(e)},xs:6},r.createElement(u.a,{noWrap:!0},e.name))}))),o&&r.createElement(Et.a,null,o.message)))})),ga=function(e,t){var a=Object(xe.b)().enqueueSnackbar;Object(r.useEffect)((function(){var r=0!==Object.keys(t).length;e>0&&r&&a("Formul\xe1rio inv\xe1lido. Reveja os campos marcados de vermelho.",{variant:"error"})}),[e,t,a])},ha=a(501),va=a(360),Oa=a(477),ja=a(197),Ea=a.n(ja),xa=a(198),ya=a.n(xa),Pa=a(232),Ca=a.n(Pa),ka=a(473),wa=a(520),Sa=a(325),Fa=a(510),Ta=a(196),Ra=a.n(Ta),Ia=a(361);function Aa(e){return 1===e.progress||Da(e)}function Da(e){return Na(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Na(e){return"video"in e}var Ba,La=Object(f.a)((function(e){return{progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:ma.a[300]}}})),Ma=function(e){var t=e.size,a=e.uploadOrFile,n=La(),o=Da(a);return r.createElement(Ia.a,{in:a.progress<1,timeout:{enter:100,exit:2e3}},r.createElement("div",{className:n.progressContainer},r.createElement($t.a,{variant:"static",value:100,className:n.progressBackground,size:t}),r.createElement($t.a,{variant:"static",value:o?0:100*a.progress,className:n.progress,size:t})))},qa=a(521),Ua=a(194),Va=a.n(Ua),_a=a(61),za=a(143),Ga=a.n(za),Wa=Object(Fe.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Ha=Wa.Types,Ya=Wa.Creators,Qa={uploads:[]},Xa=Object(Fe.createReducer)(Qa,(Ba={},Object(i.a)(Ba,Ha.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var a=Ja(e,t.payload.video.id);if(-1!==a&&e.uploads[a].progress<1)return e;var r=-1===a?e.uploads:Ga()(e.uploads,{$splice:[[a,1]]});return{uploads:[].concat(Object(Ut.a)(r),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(i.a)(Ba,Ha.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0,a=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(a.length===e.uploads.length)return e;return{uploads:a}})),Object(i.a)(Ba,Ha.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Za(e,a,r),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var l=e.uploads[o],s=l.files[c];if(s.progress===t.payload.progress)return e;var u=Ga()(e.uploads,Object(i.a)({},o,{$apply:function(e){var a=Ga()(e.files,Object(i.a)({},c,{$set:Object(te.a)(Object(te.a)({},s),{},{progress:t.payload.progress})})),r=Ka(a);return Object(te.a)(Object(te.a)({},e),{},{progress:r,files:a})}}));return{uploads:u}})),Object(i.a)(Ba,Ha.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Za(e,a,r),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var l=e.uploads[o],s=l.files[c],u=Ga()(e.uploads,Object(i.a)({},o,{files:Object(i.a)({},c,{$set:Object(te.a)(Object(te.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:u}})),Ba));function Za(e,t,a){var r=Ja(e,t);if(-1===r)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[r].files,a);return-1===n?{}:{indexUpload:r,indexFile:n}}function Ka(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function Ja(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var $a=a(195),er=a.n($a),tr=Object(f.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),ar=function(e){var t=e.upload,a=e.hover,n=tr(),o=Object(_a.b)(),c=Da(t),i=Object(r.useState)(!1),l=Object(b.a)(i,2),s=l[0],u=l[1],d=Object(Ne.a)(s,2500),m=Object(b.a)(d,1)[0];return Object(r.useEffect)((function(){u(Aa(t))}),[t]),m?r.createElement(Ia.a,{in:s,timeout:{enter:1e3}},r.createElement(qa.a,null,r.createElement("span",{hidden:a},1===t.progress&&!c&&r.createElement(g.a,{className:n.successIcon,edge:"end"},r.createElement(Va.a,null)),c&&r.createElement(g.a,{className:n.errorIcon,edge:"end"},r.createElement(er.a,null))),r.createElement("span",{hidden:!a},r.createElement(g.a,{color:"primary",edge:"end",onClick:function(){return o(Ya.removeUpload({id:t.video.id}))}},r.createElement(ca.a,null))))):null},rr=Object(f.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary},movieIcon:{color:e.palette.error.main,minWidth:"40px"}}})),nr=function(e){var t=e.upload,a=rr(),n=Da(t),o=Object(r.useState)(!1),c=Object(b.a)(o,2),i=c[0],l=c[1];return r.createElement(r.Fragment,null,r.createElement(Ce.a,{disableFocusListener:!0,disableHoverListener:!0,title:n?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left"},r.createElement(ka.a,{className:a.listItem,button:!0,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.createElement(wa.a,{className:a.movieIcon},r.createElement(Ra.a,null)),r.createElement(Sa.a,{className:a.listItemText,primary:r.createElement(u.a,{noWrap:!0,variant:"subtitle2",color:"inherit"},t.video.title)}),r.createElement(Ma,{uploadOrFile:t,size:30}),r.createElement(ar,{upload:t,hover:i}))),r.createElement(Fa.a,{component:"li"}))},or=Object(f.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),cr=r.forwardRef((function(e,t){var a=e.id,n=or(),o=Object(xe.b)().closeSnackbar,c=Object(r.useState)(!0),l=Object(b.a)(c,2),s=l[0],d=l[1],m=Object(_a.c)((function(e){return e.upload.uploads})),p=function(e){return e.filter((function(e){return!Aa(e)})).length}(m);return r.createElement(Vt.a,{ref:t,className:n.card},r.createElement(ha.a,{classes:{root:n.cardActionRoot}},r.createElement(u.a,{variant:"subtitle2",className:n.title},"Fazendo upload de ",p," v\xeddeo(s)"),r.createElement("div",{className:n.icons},r.createElement(g.a,{color:"inherit",onClick:function(){return d(!s)},className:Ca()(n.expand,Object(i.a)({},n.expandOpen,!s))},r.createElement(Ea.a,null)),r.createElement(g.a,{color:"inherit",onClick:function(){return o(a)}},r.createElement(ya.a,null)))),r.createElement(va.a,{in:s},r.createElement(Oa.a,{className:n.list},m.map((function(e,t){return r.createElement(nr,{key:t,upload:e})})))))})),ir=Object(f.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),lr=Le.d().shape({title:Le.f().required().label("T\xedtulo").max(255),description:Le.f().required().label("Sinopse"),year_launched:Le.c().required().min(1).label("Ano de lan\xe7amento"),duration:Le.c().required().min(1).label("Dura\xe7\xe3o"),genres:Le.a().label("G\xeaneros").required().test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Le.a().label("Categorias").required(),rating:Le.f().required().label("Classifica\xe7\xe3o")}),sr=Object.keys(He),ur=function(){var e=Object(ct.c)({resolver:Object(it.a)(lr),defaultValues:{genres:[],categories:[],cast_members:[],rating:null,opened:!1}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,s=e.trigger,d=e.formState;ga(d.submitCount,c);var m=ir(),p=Object(xe.b)().enqueueSnackbar,f=Object(_a.b)(),g=Object(Be.f)(),h=Object(Be.h)().id,v=Object(r.useState)(null),O=Object(b.a)(v,2),j=O[0],E=O[1],x=Object(r.useContext)(Ue),y=Object(oe.a)(),P=Object(ce.a)(y.breakpoints.up("md")),C=Object(r.useRef)(),k=Object(r.useRef)(),w=Object(r.useRef)(),S=Object(r.useRef)(Object(ne.zipObject)(sr,sr.map((function(){return Object(r.createRef)()})))),F=Object(r.useCallback)((function(e){Object.keys(S.current).forEach((function(e){return S.current[e].current.clear()})),C.current.clear(),k.current.clear(),w.current.clear(),i(e)}),[S,C,k,w,i]);function T(e,t){return A.apply(this,arguments)}function A(){return(A=Object(I.a)(R.a.mark((function e(t,a){var r,n,o,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ne.omit)(t,[].concat(Object(Ut.a)(sr),["cast_members","genres","categories"])),console.log(r),r.cast_members_id=t.cast_members.map((function(e){return e.id})),r.categories_id=t.categories.map((function(e){return e.id})),r.genres_id=t.genres.map((function(e){return e.id})),e.prev=5,n=j?St.update(j.id,r):St.create(r),e.next=9,n;case 9:o=e.sent,c=o.data,p("V\xeddeo cadastrado com sucesso!",{variant:"success"}),D(c.data),setTimeout((function(){a?h?g.replace("/videos/".concat(c.data.id,"/edit")):g.push("/videos/".concat(c.data.id,"/edit")):g.push("/videos/")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),p("Falha ao cadastrar video",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}function D(e){var t=sr.filter((function(e){return n()[e]})).map((function(e){return{fileField:e,file:n()[e]}}));t.length&&(f(Ya.addUpload({video:e,files:t})),p("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var a=e;return r.createElement(cr,{id:a})}}))}return Object(r.useEffect)((function(){["rating","opened","genres","categories","cast_members"].concat(Object(Ut.a)(sr)).forEach((function(e){return t({name:e})}))}),[t]),Object(r.useEffect)((function(){if(h){var e=!0;return Object(I.a)(R.a.mark((function t(){var a,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,St.get(h);case 3:a=t.sent,r=a.data,e&&(E(r.data),F(r.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),p("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[h,F,p]),r.createElement(pt,{onSubmit:a(T),GridItemProps:{xs:12}},r.createElement(dt.a,{container:!0,spacing:5},r.createElement(dt.a,{item:!0,xs:12,md:6},r.createElement(de.a,{name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.name,helperText:c.name&&c.name.message}),r.createElement(de.a,{name:"description",label:"Sinopse",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",margin:"normal",inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.description,helperText:c.description&&c.description.message}),r.createElement(dt.a,{container:!0,spacing:1},r.createElement(dt.a,{item:!0,xs:6},r.createElement(de.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",fullWidth:!0,variant:"outlined",inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.year_launched,helperText:c.year_launched&&c.year_launched.message})),r.createElement(dt.a,{item:!0,xs:6},r.createElement(de.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",margin:"normal",fullWidth:!0,variant:"outlined",inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.duration,helperText:c.duration&&c.duration.message}))),r.createElement(ba,{ref:C,castMembers:l("cast_members"),setCastMembers:function(e){return o("cast_members",e)},error:c.cast_members,disabled:x}),r.createElement("br",null),r.createElement(dt.a,{container:!0,spacing:2},r.createElement(dt.a,{item:!0,xs:12,md:6},r.createElement(da,{ref:k,genres:l("genres"),setGenres:function(e){return o("genres",e)},categories:l("categories"),setCategories:function(e){return o("categories",e)},error:c.genres,disabled:x})),r.createElement(dt.a,{item:!0,xs:12,md:6},r.createElement(fa,{ref:w,categories:l("categories"),setCategories:function(e){return o("categories",e)},genres:l("genres"),error:c.categories,disabled:x})))),r.createElement(dt.a,{item:!0,xs:12,md:6},r.createElement(Yt,{value:l("rating"),setValue:function(e){return o("rating",e)},error:c.rating,disabled:x,FormControlProps:{margin:P?"none":"normal"}}),r.createElement("br",null),r.createElement(Vt.a,{className:m.cardUpload},r.createElement(_t.a,null,r.createElement(u.a,{color:"primary",variant:"h6"},"Imagens"),r.createElement(Jt,{accept:"image/*",label:"Thumb",setValue:function(e){return o("thumb_file",e)}}),r.createElement(Jt,{accept:"image/*",label:"Banner",setValue:function(e){return o("banner_file",e)}}))),r.createElement(Vt.a,{className:m.cardUpload},r.createElement(_t.a,null,r.createElement(u.a,{color:"primary",variant:"h6"},"V\xeddeos"),r.createElement(Jt,{accept:"video/mp4",label:"Trailer",setValue:function(e){return o("trailer_file",e)}}),r.createElement(Jt,{accept:"video/mp4",label:"Principal",setValue:function(e){return o("video_file",e)}}))),r.createElement("br",null),r.createElement(Vt.a,{className:m.cardOpened},r.createElement(_t.a,{className:m.cardContentOpened},r.createElement(nt.a,{control:r.createElement(ot.a,{name:"opened",color:"primary",onChange:function(){return o("opened",!n().opened)},checked:l("opened"),disabled:x}),label:r.createElement(u.a,{color:"primary",variant:"subtitle2"},"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"),labelPlacement:"end"}))))),r.createElement(st,{disabledButtons:x,handleSave:function(){return s().then((function(e){e&&T(n(),null)}))}}))},dr=function(){var e=Object(Be.h)().id;return r.createElement("div",null,r.createElement(P,{title:e?"Editar v\xeddeo":"Criar v\xeddeo"},r.createElement(ur,null)))},mr=a(511),pr=a(513),fr=a(512),br=(a(352),Object(f.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),gr=function(e){var t=e.uploadOrFile,a=br(),n=Object(_a.b)(),o=Object(r.useState)(!1),c=Object(b.a)(o,2),i=c[0],l=c[1],s=Object(Ne.a)(i,2500),u=Object(b.a)(s,1)[0],d=Da(t),m=t.video?t.video.id:"",p=Na(t);return Object(r.useEffect)((function(){l(Aa(t))}),[t]),u?r.createElement(Ia.a,{in:i,timeout:{enter:1e3}},r.createElement(r.Fragment,null,1===t.progress&&!d&&r.createElement(Va.a,{className:a.successIcon}),d&&r.createElement(er.a,{className:a.errorIcon}),p&&r.createElement(r.Fragment,null,r.createElement(Fa.a,{className:a.divider,orientation:"vertical"}),r.createElement(g.a,{onClick:function(){return n(Ya.removeUpload({id:m}))}},r.createElement(ca.a,{color:"primary"})),r.createElement(g.a,{component:F.b,to:"/videos/".concat(m,"/edit")},r.createElement(Pe.a,{color:"primary"}))))):null},hr=Object(f.a)((function(e){return{gridTitle:{display:"flex",color:"#999999",height:"53px"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),vr=function(e){var t=e.uploadOrFile,a=hr();return r.createElement(ka.a,null,r.createElement(dt.a,{container:!0,alignItems:"center"},r.createElement(dt.a,{className:a.gridTitle,item:!0,xs:12,md:9},r.createElement(Ra.a,{className:a.icon}),r.createElement(u.a,{color:"inherit"},e.children)),r.createElement(dt.a,{item:!0,xs:12,md:3},r.createElement(dt.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end"},r.createElement(Ma,{size:48,uploadOrFile:t}),r.createElement(gr,{uploadOrFile:t})))))},Or=Object(f.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),jr=[{name:"dashboard",label:"Dashboard",path:"/",component:C,exact:!0},{name:"categories.list",label:"Listar categorias",path:"/categories",component:Ge,exact:!0},{name:"categories.create",label:"Criar categorias",path:"/categories/create",component:gt,exact:!0},{name:"categories.edit",label:"Editar categorias",path:"/categories/:id/edit",component:gt,exact:!0},{name:"cast_members.list",label:"Listar membros de elencos",path:"/cast-members",component:Je,exact:!0},{name:"cast_members.create",label:"Criar membros de elencos",path:"/cast-members/create",component:Pt,exact:!0},{name:"cast_members.edit",label:"Editar membros de elencos",path:"/cast-members/:id/edit",component:Pt,exact:!0},{name:"genre.list",label:"Listar g\xeaneros",path:"/genres",component:rt,exact:!0},{name:"genre.create",label:"Criar g\xeanero",path:"/genres/create",component:wt,exact:!0},{name:"genre.edit",label:"Editar g\xeanero",path:"/genres/:id/edit",component:wt,exact:!0},{name:"video.list",label:"Listar v\xeddeos",path:"/videos",component:qt,exact:!0},{name:"video.create",label:"Criar V\xeddeo",path:"/videos/create",component:dr,exact:!0},{name:"video.edit",label:"Editar v\xeddeo",path:"/videos/:id/edit",component:dr,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=Or(),t=Object(_a.c)((function(e){return e.upload.uploads}));return r.createElement(P,{title:"Uploads"},t.map((function(t,a){return r.createElement(Vt.a,{elevation:5,key:a},r.createElement(_t.a,null,r.createElement(vr,{uploadOrFile:t},t.video.title),r.createElement(mr.a,{style:{margin:0}},r.createElement(pr.a,{className:e.panelSummary,expandIcon:r.createElement(Ea.a,{className:e.expandedIcon})},r.createElement(u.a,null,"Ver detalhes")),r.createElement(fr.a,{style:{padding:"0px"}},r.createElement(dt.a,{item:!0,xs:12},r.createElement(Oa.a,{dense:!0,style:{padding:"0px"}},t.files.map((function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement(Fa.a,null),r.createElement(vr,{uploadOrFile:e},"".concat(He[e.fileField]," - ").concat(e.filename)))}))))))))})))},exact:!0}],Er={dashboard:"Dashboard","categories.list":"Categorias","cast_members.list":"Membros do elenco","genre.list":"G\xeaneros","video.list":"V\xeddeos",uploads:"Uploads"},xr=jr.filter((function(e){return Object.keys(Er).includes(e.name)})),yr=function(){var e=r.useState(null),t=Object(b.a)(e,2),a=t[0],n=t[1],o=Boolean(a),c=function(){return n(null)};return r.createElement(r.Fragment,null,r.createElement(g.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)}},r.createElement(j.a,null)),r.createElement(h.a,{id:"menu-appbar",open:o,anchorEl:a,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},Object.keys(Er).map((function(e,t){var a=xr.find((function(t){return t.name===e}));return r.createElement(v.a,{key:t,component:F.b,to:a.path,onClick:c},Er[e])}))))},Pr=Object(f.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(i.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Cr=function(){var e=Pr();return r.createElement(l.a,null,r.createElement(s.a,{className:e.toolbar},r.createElement(yr,null),r.createElement(u.a,{className:e.title},r.createElement("img",{src:p.a,alt:"Codeflix",className:e.logo})),r.createElement(d.a,{color:"inherit"},"Login")))},kr=a(504),wr=function(){return r.createElement(Be.c,null,jr.map((function(e,t){return r.createElement(Be.a,{key:t,path:e.path,component:e.component,exact:!0===e.exact})})))},Sr=a(519),Fr=a(525),Tr=a(354),Rr=a.n(Tr),Ir={};jr.forEach((function(e){return Ir[e.path]=e.label}));var Ar=Object(f.a)((function(e){return Object(aa.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Dr=function(e){return n.a.createElement(Sr.a,Object.assign({},e,{component:F.b}))};function Nr(){var e=Ar();return n.a.createElement(E.a,null,n.a.createElement(x.a,{paddingTop:2,paddingBottom:2},n.a.createElement(Be.a,null,(function(t){return function(t){var a=t.pathname.split("/").filter((function(e){return e}));return a.unshift("/"),n.a.createElement(Fr.a,{"aria-label":"breadcrumb"},a.map((function(t,r){var o=r===a.length-1,c="".concat(a.slice(0,r+1).join("/").replace("//","/")),i=Object.keys(Ir).find((function(e){return new Rr.a(e).match(c)}));return void 0!==i&&(o?n.a.createElement(u.a,{color:"textPrimary",key:c},Ir[i]):n.a.createElement(Dr,{color:"inherit",to:c,key:c,className:e.linkRouter},Ir[i]))})))}(t.location)}))))}var Br=Object(f.a)((function(){return{variantSuccess:{backgroundColor:K.palette.success.main},variantError:{backgroundColor:K.palette.error.main},variantInfo:{backgroundColor:K.palette.primary.main}}})),Lr=function(e){var t,a={classes:Br(),autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},children:void 0,preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return r.createElement(g.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)}},r.createElement(ya.a,null))}},n=Object(te.a)(Object(te.a)({},a),e);return r.createElement(xe.a,n,e.children)},Mr=a(518);function qr(e){return Object(te.a)(Object(te.a)({},e),{},{palette:Object(te.a)(Object(te.a)({},e.palette),{},{primary:e.palette.error})})}var Ur=function(){var e=Object(r.useContext)(Ue);return r.createElement(H.a,{theme:qr},r.createElement(Ia.a,{in:e},r.createElement(Mr.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})))},Vr=function(e){var t=Object(r.useState)(!1),a=Object(b.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(0),i=Object(b.a)(c,2),l=i[0],s=i[1];return Object(r.useMemo)((function(){var e=!0,t=function(e,t){var a,r=[],n=Object(V.a)(z);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.request.use(e,t);r.push(o)}}catch(c){n.e(c)}finally{n.f()}return r}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(o(!0),s((function(e){return e+1}))),t})),a=function(e,t){var a,r=[],n=Object(V.a)(z);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.response.use(e,t);r.push(o)}}catch(c){n.e(c)}finally{n.f()}return r}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&r(),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&r(),Promise.reject(t)}));function r(){s((function(e){return e-1}))}return function(){e=!1,t.forEach((function(e,t){return z[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return z[t].interceptors.response.eject(e)}))}(a)}}),[!0]),Object(r.useEffect)((function(){l||o(!1)}),[l]),r.createElement(Ue.Provider,{value:n},e.children)};var _r=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Vr,null,n.a.createElement(H.a,{theme:K},n.a.createElement(Lr,null,n.a.createElement(kr.a,null),n.a.createElement(F.a,{basename:"/admin"},n.a.createElement(Ur,null),n.a.createElement(Cr,null),n.a.createElement(x.a,{paddingTop:"70px"},n.a.createElement(Nr,null),n.a.createElement(wr,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zr=a(122),Gr=a(142),Wr=a(68),Hr=R.a.mark(Qr),Yr=R.a.mark(Xr);function Qr(){var e,t,a,r,n,o,c;return R.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Wr.a)(Ha.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Wr.f)(e);case 6:return t=i.sent,a=t.payload,i.t0=console,i.next=11,Object(Wr.e)((function(e){return e}));case 11:i.t1=i.sent,i.t0.log.call(i.t0,i.t1),r=Object(V.a)(a.files),i.prev=14,r.s();case 16:if((n=r.n()).done){i.next=30;break}return o=n.value,i.prev=18,i.next=21,Object(Wr.c)(Xr,{video:a.video,fileInfo:o});case 21:c=i.sent,console.log(c),i.next=28;break;case 25:i.prev=25,i.t2=i.catch(18),console.log(i.t2);case 28:i.next=16;break;case 30:i.next=35;break;case 32:i.prev=32,i.t3=i.catch(14),r.e(i.t3);case 35:return i.prev=35,r.f(),i.finish(35);case 38:console.log(a),i.next=3;break;case 41:case"end":return i.stop()}}),Hr,null,[[14,32,35,38],[18,25]])}function Xr(e){var t,a,r,n,o,c;return R.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,a=e.fileInfo,i.next=3,Object(Wr.c)(Zr,{id:t.id,fileInfo:a});case 3:r=i.sent;case 4:return i.prev=5,i.next=8,Object(Wr.f)(r);case 8:if(n=i.sent,o=n.progress,!(c=n.response)){i.next=13;break}return i.abrupt("return",c);case 13:return i.next=15,Object(Wr.d)(Ya.updateProgress({video:t,fileField:a.fileField,progress:o}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Wr.d)(Ya.setUploadError({video:t,fileField:a.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Yr,null,[[5,17]])}function Zr(e){var t=e.id,a=e.fileInfo;return Object(Gr.c)((function(e){St.partialUpdate(t,Object(i.a)({_method:"PATCH"},a.fileField,a.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var a=t.loaded/t.total;console.log(a),e({progress:a})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Gr.a)}));return function(){}}))}var Kr=R.a.mark(Jr);function Jr(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wr.b)([Qr()]);case 2:case"end":return e.stop()}}),Kr)}var $r=Object(Gr.b)(),en=Object(zr.d)(Object(zr.b)({upload:Xa}),Object(zr.a)($r));$r.run(Jr);var tn=en;c.a.render(n.a.createElement(_a.a,{store:tn},n.a.createElement(n.a.StrictMode,null,n.a.createElement(_r,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[369,1,2]]]);
//# sourceMappingURL=main.e0d907b4.chunk.js.map